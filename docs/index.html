<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>ECON4538 - Syllabus – ECON4538</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-6bd9cfa162949bde0a231f530c97869d.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">ECON4538</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#class-times" id="toc-class-times" class="nav-link active" data-scroll-target="#class-times">Class Times</a>
  <ul class="collapse">
  <li><a href="#lectures" id="toc-lectures" class="nav-link" data-scroll-target="#lectures">Lectures</a></li>
  <li><a href="#recitations" id="toc-recitations" class="nav-link" data-scroll-target="#recitations">Recitations</a></li>
  </ul></li>
  <li><a href="#email-and-office-hours" id="toc-email-and-office-hours" class="nav-link" data-scroll-target="#email-and-office-hours">Email and Office Hours</a></li>
  <li><a href="#course-overview-and-objectives" id="toc-course-overview-and-objectives" class="nav-link" data-scroll-target="#course-overview-and-objectives">Course Overview and Objectives</a></li>
  <li><a href="#student-learning-outcomes" id="toc-student-learning-outcomes" class="nav-link" data-scroll-target="#student-learning-outcomes">Student Learning Outcomes</a></li>
  <li><a href="#course-prerequisites" id="toc-course-prerequisites" class="nav-link" data-scroll-target="#course-prerequisites">Course Prerequisites</a></li>
  <li><a href="#textbook" id="toc-textbook" class="nav-link" data-scroll-target="#textbook">Textbook</a>
  <ul class="collapse">
  <li><a href="#additional-readings" id="toc-additional-readings" class="nav-link" data-scroll-target="#additional-readings">Additional Readings</a></li>
  </ul></li>
  <li><a href="#course-software-and-resources" id="toc-course-software-and-resources" class="nav-link" data-scroll-target="#course-software-and-resources">Course Software and Resources</a></li>
  <li><a href="#assessment" id="toc-assessment" class="nav-link" data-scroll-target="#assessment">Assessment</a>
  <ul class="collapse">
  <li><a href="#submission-guidelines" id="toc-submission-guidelines" class="nav-link" data-scroll-target="#submission-guidelines">Submission Guidelines</a></li>
  </ul></li>
  <li><a href="#course-outline" id="toc-course-outline" class="nav-link" data-scroll-target="#course-outline">Course Outline</a>
  <ul class="collapse">
  <li><a href="#dynamic-programming-and-applications" id="toc-dynamic-programming-and-applications" class="nav-link" data-scroll-target="#dynamic-programming-and-applications">Dynamic Programming and Applications</a></li>
  <li><a href="#savings-and-incomplete-markets" id="toc-savings-and-incomplete-markets" class="nav-link" data-scroll-target="#savings-and-incomplete-markets">Savings and incomplete markets</a></li>
  <li><a href="#facts-about-inequality" id="toc-facts-about-inequality" class="nav-link" data-scroll-target="#facts-about-inequality">Facts about Inequality</a></li>
  <li><a href="#theories-of-human-capital-and-inequality" id="toc-theories-of-human-capital-and-inequality" class="nav-link" data-scroll-target="#theories-of-human-capital-and-inequality">Theories of Human Capital and Inequality</a></li>
  <li><a href="#connecting-human-capital-theory-with-evidence" id="toc-connecting-human-capital-theory-with-evidence" class="nav-link" data-scroll-target="#connecting-human-capital-theory-with-evidence">Connecting Human Capital Theory with Evidence</a></li>
  </ul></li>
  <li><a href="#grading-policies-and-procedures" id="toc-grading-policies-and-procedures" class="nav-link" data-scroll-target="#grading-policies-and-procedures">Grading, Policies, and Procedures</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">ECON4538 - Syllabus</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>This is an advanced undergraduate course in Labor Economics. Please read below for the course outline and syllabus.</p>
<section id="class-times" class="level2">
<h2 class="anchored" data-anchor-id="class-times">Class Times</h2>
<section id="lectures" class="level3">
<h3 class="anchored" data-anchor-id="lectures">Lectures</h3>
<p>Mondays and Wednesdays, 9:45am - 11am, Blegen Hall 240</p>
</section>
<section id="recitations" class="level3">
<h3 class="anchored" data-anchor-id="recitations">Recitations</h3>
<p>Fridays, 10:10am - 11am, Blegen Hall 215</p>
</section>
</section>
<section id="email-and-office-hours" class="level2">
<h2 class="anchored" data-anchor-id="email-and-office-hours">Email and Office Hours</h2>
<p>You will find details on how to contact me and sign up for office hours on the <a href="https://canvas.umn.edu/">course Canvas page</a>.</p>
</section>
<section id="course-overview-and-objectives" class="level2">
<h2 class="anchored" data-anchor-id="course-overview-and-objectives">Course Overview and Objectives</h2>
<p>In this class we will address questions at the forefront of modern economic policy. What factors drive economic inequality over the life-cycle? How are these evolving over time? What are the potential costs and benefits to collective provision of insurance and redistribution? What policies are effective in creating equal opportunity?</p>
<p>To answer these questions you will learn the basic tools of modern quantitative economics. We will be interested in understanding the models and tools that economists have developed to understand labor market inequality, as well as in using these models to analyze the welfare implications of various government interventions. Topics to be covered include: dynamic programming, solution methods of general equilibrium models, heterogeneous-agent macroeconomic models, models of human capital formation, and modern empirical evidence on the nature human capital.</p>
</section>
<section id="student-learning-outcomes" class="level2">
<h2 class="anchored" data-anchor-id="student-learning-outcomes">Student Learning Outcomes</h2>
<p>On successfully completing this course, students should be familiar with some of the core concepts in modern quantitative economics. Students should be able to formalize an appropriate dynamic, stochastic, general equilibrium model to analyze a question of interest. Students should be able to solve and simulate such a model on a computer, for the purpose of interpreting data and conducting policy experiments.</p>
</section>
<section id="course-prerequisites" class="level2">
<h2 class="anchored" data-anchor-id="course-prerequisites">Course Prerequisites</h2>
<p>I will assume that you are comfortable with micro concepts at the level of Econ 3101, 3102, such as the utility maximization problem and its related topics. I will also assume that you are comfortable with basic econometrics such as multivariate regression techniques as well as statistics at the level of Stat 3011. With regards to your math background, I will take as granted that you know how to work with calculus (derivatives). Students should be willing to invest time in learning a computer programming language such as <code>julia</code>.</p>
</section>
<section id="textbook" class="level2">
<h2 class="anchored" data-anchor-id="textbook">Textbook</h2>
<p>We will use some chapters and problem sets from <em>Recursive Macroeconomic Theory</em> <span class="citation" data-cites="Ljungqvist2012">(<a href="#ref-Ljungqvist2012" role="doc-biblioref">Ljungqvist and Sargent 2012, 3rd</a> edition)</span> available online via the University Library. We will also make use of Journal Articles. I have provided links to electronic versions of the textbook and journal articles are available on the “Library Course Page”.</p>
<section id="additional-readings" class="level3">
<h3 class="anchored" data-anchor-id="additional-readings">Additional Readings</h3>
<p>You may also find some of the following books useful.</p>
<ul>
<li>John Stachurski, Economic Dynamics: Theory and Computation, 2nd edition, (2022).</li>
<li>Christopher Pissarides, Equilibrium Unemployment Theory, 2nd edition, (2000).</li>
<li>Jérôme Adda and Russell Cooper, Dynamic Economics: Quantitative Methods and Applications, (2003).</li>
<li>Mario Miranda and Paul Fackler, Applied Computational Economics and Finance, (2002).</li>
<li>Kenneth Judd, Numerical Methods in Economics, (1998).</li>
</ul>
</section>
</section>
<section id="course-software-and-resources" class="level2">
<h2 class="anchored" data-anchor-id="course-software-and-resources">Course Software and Resources</h2>
<p>We will demonstrate and develop the computational tools you are learning using the <code>julia</code> programming language, which is well-suited for scientific computation and data analysis. LATIS provides a copy of <code>julia</code> on AppstoGo, but we recommend installing your own version, since it is completely free and open source. <a href="https://julialang.org/">See the website</a> for more details on the language and installation instructions.</p>
<p>Throughout the course, you may find the <a href="https://julia.quantecon.org/intro.html">QuantEcon</a> <code>julia</code> course (by Tom Sargent, John Stachurski, and Jesse Perla) a useful additional resource.</p>
</section>
<section id="assessment" class="level2">
<h2 class="anchored" data-anchor-id="assessment">Assessment</h2>
<p>The course will be graded based on 6 problem sets (each worth 7%, 42% total), a midterm exam (20%), and a final exam (38%).</p>
<section id="submission-guidelines" class="level3">
<h3 class="anchored" data-anchor-id="submission-guidelines">Submission Guidelines</h3>
<p>It is your responsibility to submit neat and legible solutions to the problem sets. Your TA may deduct marks for illegible submissions. Please follow these guidelines:</p>
<ul>
<li>All homework assignments must be submitted as a <code>Quarto</code> or <code>jupyter</code> notebook rendered as an html or pdf, with code and output showing all required results. You will be introduced to these notebooks through recitation materials.</li>
<li>For questions requiring mathematical solutions, you may submit handwritten solutions if you prefer, but they must be submitted as a pdf using a scanner or scanning app on your phone.</li>
</ul>
</section>
</section>
<section id="course-outline" class="level2">
<h2 class="anchored" data-anchor-id="course-outline">Course Outline</h2>
<section id="dynamic-programming-and-applications" class="level3">
<h3 class="anchored" data-anchor-id="dynamic-programming-and-applications">Dynamic Programming and Applications</h3>
<p>An important set of mathematical tools for solving dynamic models. Topics include:</p>
<ul>
<li>Bellman’s principal of optimality and contraction mappings</li>
<li>Mathematical and computational exposition (using julia) of dynamic programming tools, applied to:
<ul>
<li>Models of job search</li>
<li>Infinite horizon and life-cycle models of savings</li>
</ul></li>
</ul>
<p><strong>Reading</strong>: <span class="citation" data-cites="Ljungqvist2012">Ljungqvist and Sargent (<a href="#ref-Ljungqvist2012" role="doc-biblioref">2012</a>)</span> Chapters 3-6.</p>
</section>
<section id="savings-and-incomplete-markets" class="level3">
<h3 class="anchored" data-anchor-id="savings-and-incomplete-markets">Savings and incomplete markets</h3>
<p>Review of the main theoretical models describing savings and self-insurance of agents under uncertainity and incomplete markets.</p>
<ul>
<li>Main savings problems</li>
<li>Incomplete markets models as <span class="citation" data-cites="Huggett1993">Huggett (<a href="#ref-Huggett1993" role="doc-biblioref">1993</a>)</span>, <span class="citation" data-cites="aiyagari1994">Aiyagari (<a href="#ref-aiyagari1994" role="doc-biblioref">1994</a>)</span>, <span class="citation" data-cites="krusell1998">Krusell and Smith (<a href="#ref-krusell1998" role="doc-biblioref">1998</a>)</span></li>
<li>Consumption inequality and income uncertainity.</li>
</ul>
<p><strong>Reading</strong>: <span class="citation" data-cites="Ljungqvist2012">Ljungqvist and Sargent (<a href="#ref-Ljungqvist2012" role="doc-biblioref">2012</a>)</span> Chapters 17-18. <span class="citation" data-cites="Deaton1991">Deaton (<a href="#ref-Deaton1991" role="doc-biblioref">1991</a>)</span>, <span class="citation" data-cites="blundell1998">Blundell and Preston (<a href="#ref-blundell1998" role="doc-biblioref">1998</a>)</span>, <span class="citation" data-cites="Huggett1993">Huggett (<a href="#ref-Huggett1993" role="doc-biblioref">1993</a>)</span>, <span class="citation" data-cites="aiyagari1994">Aiyagari (<a href="#ref-aiyagari1994" role="doc-biblioref">1994</a>)</span>, <span class="citation" data-cites="krusell1998">Krusell and Smith (<a href="#ref-krusell1998" role="doc-biblioref">1998</a>)</span></p>
</section>
<section id="facts-about-inequality" class="level3">
<h3 class="anchored" data-anchor-id="facts-about-inequality">Facts about Inequality</h3>
<p>We review and replicate facts about labor market inequality in the United States. Topics include:</p>
<ul>
<li>Documenting income inequality <span class="citation" data-cites="moffitt2011 Heathcote2010 Heathcote2023 Guvenen2021">(<a href="#ref-moffitt2011" role="doc-biblioref">Moffitt and Gottschalk 2011</a>; <a href="#ref-Heathcote2010" role="doc-biblioref">Heathcote, Perri, and Violante 2010</a>; <a href="#ref-Heathcote2023" role="doc-biblioref">Heathcote et al. 2023</a>; <a href="#ref-Guvenen2021" role="doc-biblioref">Guvenen et al. 2021</a>)</span></li>
<li>Estimation of income risk <span class="citation" data-cites="moffitt2011 Meghir2004 Low2010 Guvenen2009">(<a href="#ref-moffitt2011" role="doc-biblioref">Moffitt and Gottschalk 2011</a>; <a href="#ref-Meghir2004" role="doc-biblioref">Meghir and Pistaferri 2004</a>; <a href="#ref-Low2010" role="doc-biblioref">Low, Meghir, and Pistaferri 2010</a>; <a href="#ref-Guvenen2009" role="doc-biblioref">Guvenen 2009</a>)</span></li>
<li>Welfare implications of income inequality <span class="citation" data-cites="Storesletten2004">(<a href="#ref-Storesletten2004" role="doc-biblioref">Storesletten, Telmer, and Yaron 2004</a>)</span>
<ul>
<li>Redistribution vs Insurance</li>
</ul></li>
<li>The Intergenerational Elasticity of Earnings <span class="citation" data-cites="corak2013 mazumder2018">(<a href="#ref-corak2013" role="doc-biblioref">Corak 2013</a>; <a href="#ref-mazumder2018" role="doc-biblioref">Mazumder 2018</a>)</span></li>
<li>Skills and Inequality <span class="citation" data-cites="Heckman2006 Cunha2008a Cunha2009">(<a href="#ref-Heckman2006" role="doc-biblioref">James J. Heckman, Stixrud, and Urzua 2006</a>; <a href="#ref-Cunha2008a" role="doc-biblioref">Cunha and Heckman 2008a</a>; <a href="#ref-Cunha2009" role="doc-biblioref">Cunha and Heckman 2009</a>)</span></li>
</ul>
</section>
<section id="theories-of-human-capital-and-inequality" class="level3">
<h3 class="anchored" data-anchor-id="theories-of-human-capital-and-inequality">Theories of Human Capital and Inequality</h3>
<p>We introduce textbook theories of human capital formation and examine their empirical content. We develop computational tools to bring these theories to data. Topics include:</p>
<ul>
<li>The Becker-Tomes model of intergenerational inequality via human capital investment <span class="citation" data-cites="Becker1979 Becker1986">(<a href="#ref-Becker1979" role="doc-biblioref">Becker and Tomes 1979</a>, <a href="#ref-Becker1986" role="doc-biblioref">1986</a>)</span>
<ul>
<li>Policy implications of the model (efficiency and redistribution)</li>
</ul></li>
<li>Debates on the empirical and conceptual merits of the Becker-Tomes model <span class="citation" data-cites="Goldberger1989 Mulligan1999 Cunha2006 Cunha2007">(<a href="#ref-Goldberger1989" role="doc-biblioref">Goldberger 1989</a>; <a href="#ref-Mulligan1999" role="doc-biblioref">Mulligan 1999</a>; <a href="#ref-Cunha2006" role="doc-biblioref">Cunha et al. 2006</a>; <a href="#ref-Cunha2007" role="doc-biblioref">Cunha and Heckman 2007</a>)</span></li>
<li>Quantitative and theoretical extensions of the baseline model <span class="citation" data-cites="Lee2019 Caucutt2020">(<a href="#ref-Lee2019" role="doc-biblioref">Lee and Seshadri 2019</a>; <a href="#ref-Caucutt2020" role="doc-biblioref">Caucutt and Lochner 2020</a>)</span></li>
</ul>
</section>
<section id="connecting-human-capital-theory-with-evidence" class="level3">
<h3 class="anchored" data-anchor-id="connecting-human-capital-theory-with-evidence">Connecting Human Capital Theory with Evidence</h3>
<p>We survey some empirical work that connects the theory with data. Topics include:</p>
<ul>
<li>A review of econometric methods for causal inference</li>
<li>Evidence of the effect of social programs on child skill formation and long-run outcomes <span class="citation" data-cites="Dahl2012 Barr2022 Bastian2018 Carneiro2021 bailey2024">(<a href="#ref-Dahl2012" role="doc-biblioref">Dahl and Lochner 2012</a>; <a href="#ref-Barr2022" role="doc-biblioref">Barr, Eggleston, and Smith 2022</a>; <a href="#ref-Bastian2018" role="doc-biblioref">Bastian and Michelmore 2018</a>; <a href="#ref-Carneiro2021" role="doc-biblioref">Carneiro et al. 2021</a>; <a href="#ref-bailey2024" role="doc-biblioref">Bailey et al. 2024</a>)</span></li>
<li>Evidence of the effect of early childhood education on skill formation and long-run outcomes <span class="citation" data-cites="heckman2010 Garcia2020 Kline2016">(<a href="#ref-heckman2010" role="doc-biblioref">James J. Heckman et al. 2010</a>; <a href="#ref-Garcia2020" role="doc-biblioref">García et al. 2020</a>; <a href="#ref-Kline2016" role="doc-biblioref">Kline and Walters 2016</a>)</span></li>
<li>Evidence of the effect of parenting and home interventions on skill formation and long-run outcomes <span class="citation" data-cites="ATTANASIO2020 Walker2022 Carneiro2024">(<a href="#ref-ATTANASIO2020" role="doc-biblioref">Attanasio, Meghir, and Nix 2020</a>; <a href="#ref-Walker2022" role="doc-biblioref">Walker et al. 2022</a>; <a href="#ref-Carneiro2024" role="doc-biblioref">Carneiro et al. 2024</a>)</span></li>
<li>Estimating the technology of skill formation. <span class="citation" data-cites="Cunha2008b ATTANASIO2020">(<a href="#ref-Cunha2008b" role="doc-biblioref">Cunha and Heckman 2008b</a>; <a href="#ref-ATTANASIO2020" role="doc-biblioref">Attanasio, Meghir, and Nix 2020</a>)</span></li>
</ul>
</section>
</section>
<section id="grading-policies-and-procedures" class="level2">
<h2 class="anchored" data-anchor-id="grading-policies-and-procedures">Grading, Policies, and Procedures</h2>
<p>Please see the course Canvas page for the department grading scale and a statement of University policies and procedures.</p>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-aiyagari1994" class="csl-entry" role="listitem">
Aiyagari, S Rao. 1994. <span>“Uninsured Idiosyncratic Risk and Aggregate Saving.”</span> <em>The Quarterly Journal of Economics</em> 109 (3): 659–84.
</div>
<div id="ref-ATTANASIO2020" class="csl-entry" role="listitem">
Attanasio, Orazio, Costas Meghir, and Emily Nix. 2020. <span>“Human Capital Development and Parental Investment in India.”</span> <em>The Review of Economic Studies</em>, no. 6 (317): 2511–41. <a href="https://doi.org/10.1093/restud/rdaa026">https://doi.org/10.1093/restud/rdaa026</a>.
</div>
<div id="ref-bailey2024" class="csl-entry" role="listitem">
Bailey, Martha J, Hilary Hoynes, Maya Rossin-Slater, and Reed Walker. 2024. <span>“Is the Social Safety Net a Long-Term Investment? Large-Scale Evidence from the Food Stamps Program.”</span> <em>Review of Economic Studies</em> 91 (3): 1291–1330.
</div>
<div id="ref-Barr2022" class="csl-entry" role="listitem">
Barr, Andrew, Jonathan Eggleston, and Alexander A. Smith. 2022. <span>“Investing in Infants: The Lasting Effects of Cash Transfers to New Families.”</span> <em>The Quarterly Journal of Economics</em>, no. 4: 2539–83. <a href="https://doi.org/10.1093/qje/qjac023">https://doi.org/10.1093/qje/qjac023</a>.
</div>
<div id="ref-Bastian2018" class="csl-entry" role="listitem">
Bastian, Jacob, and Katherine Michelmore. 2018. <span>“The Long-Term Impact of the Earned Income Tax Credit on Children’s Education and Employment Outcomes.”</span> <em>Journal of Labor Economics</em>, no. 4: 1127–63. <a href="https://doi.org/10.1086/697477">https://doi.org/10.1086/697477</a>.
</div>
<div id="ref-Becker1979" class="csl-entry" role="listitem">
Becker, Gary S., and Nigel Tomes. 1979. <span>“An Equilibrium Theory of the Distribution of Income and Intergenerational Mobility.”</span> <em>The Journal of Political Economy</em>, no. 6: 1153–89. <a href="https://doi.org/10.1086/260831">https://doi.org/10.1086/260831</a>.
</div>
<div id="ref-Becker1986" class="csl-entry" role="listitem">
———. 1986. <span>“Human Capital and the Rise and Fall of Families.”</span> <em>Journal of Labor Economics</em>, no. 3: S1–39. <a href="https://doi.org/10.1086/298118">https://doi.org/10.1086/298118</a>.
</div>
<div id="ref-blundell1998" class="csl-entry" role="listitem">
Blundell, Richard, and Ian Preston. 1998. <span>“Consumption Inequality and Income Uncertainty.”</span> <em>The Quarterly Journal of Economics</em> 113 (2): 603–40.
</div>
<div id="ref-Carneiro2024" class="csl-entry" role="listitem">
Carneiro, Pedro, Emanuela Galasso, Italo Lopez Garcia, Paula Bedregal, and Miguel Cordero. 2024. <span>“Impacts of a Large-Scale Parenting Program: Experimental Evidence from Chile.”</span> <em>The Journal of Political Economy</em>, no. 4: 1113–61. <a href="https://doi.org/10.1086/727288">https://doi.org/10.1086/727288</a>.
</div>
<div id="ref-Carneiro2021" class="csl-entry" role="listitem">
Carneiro, Pedro, Lucy Kraftman, Giacomo Mason, Lucie Moore, Imran Rasul, and Molly Scott. 2021. <span>“The Impacts of a Multifaceted Prenatal Intervention on Human Capital Accumulation in Early Life.”</span> <em>The American Economic Review</em>, no. 8: 2506–49. <a href="https://doi.org/10.1257/aer.20191726">https://doi.org/10.1257/aer.20191726</a>.
</div>
<div id="ref-Caucutt2020" class="csl-entry" role="listitem">
Caucutt, Elizabeth M., and Lance Lochner. 2020. <span>“Early and Late Human Capital Investments, Borrowing Constraints, and the Family.”</span> <em>The Journal of Political Economy</em>, no. 3: 1065–1147. <a href="https://doi.org/10.1086/704759">https://doi.org/10.1086/704759</a>.
</div>
<div id="ref-corak2013" class="csl-entry" role="listitem">
Corak, Miles. 2013. <span>“Income Inequality, Equality of Opportunity, and Intergenerational Mobility.”</span> <em>Journal of Economic Perspectives</em> 27 (3): 79–102.
</div>
<div id="ref-Cunha2007" class="csl-entry" role="listitem">
Cunha, Flavio, and James Heckman. 2007. <span>“The Technology of Skill Formation.”</span> <em>The American Economic Review</em>, no. 2: 31–47. <a href="https://doi.org/10.1257/aer.97.2.31">https://doi.org/10.1257/aer.97.2.31</a>.
</div>
<div id="ref-Cunha2008a" class="csl-entry" role="listitem">
———. 2008a. <span>“A New Framework for the Analysis of Inequality.”</span> <em>Macroeconomic Dynamics</em>, no. S2: 315–54. <a href="https://doi.org/10.1017/S136510050807034X">https://doi.org/10.1017/S136510050807034X</a>.
</div>
<div id="ref-Cunha2008b" class="csl-entry" role="listitem">
Cunha, Flavio, and James J. Heckman. 2008b. <span>“Formulating, Identifying and Estimating the Technology of Cognitive and Noncognitive Skill Formation.”</span> <em>The Journal of Human Resources</em>, no. 4: 738–82. <a href="https://doi.org/10.1353/jhr.2008.0019">https://doi.org/10.1353/jhr.2008.0019</a>.
</div>
<div id="ref-Cunha2009" class="csl-entry" role="listitem">
———. 2009. <span>“The Economics and Psychology of Inequality and Human Development.”</span> <em>Journal of the European Economic Association</em>, no. 2: 320–64. <a href="https://doi.org/10.1162/JEEA.2009.7.2-3.320">https://doi.org/10.1162/JEEA.2009.7.2-3.320</a>.
</div>
<div id="ref-Cunha2006" class="csl-entry" role="listitem">
Cunha, Flavio, James J. Heckman, Lance Lochner, and Dimitriy V. Masterov. 2006. <span>“Chapter 12 Interpreting the Evidence on Life Cycle Skill Formation.”</span> In, 1:697–812. Handbook of the Economics of Education. Elsevier B.V. <a href="https://doi.org/10.1016/S1574-0692(06)01012-9">https://doi.org/10.1016/S1574-0692(06)01012-9</a>.
</div>
<div id="ref-Dahl2012" class="csl-entry" role="listitem">
Dahl, Gordon B., and Lance Lochner. 2012. <span>“The Impact of Family Income on Child Achievement: Evidence from the Earned Income Tax Credit.”</span> <em>The American Economic Review</em>, no. 5: 1927–56. <a href="https://doi.org/10.1257/aer.102.5.1927">https://doi.org/10.1257/aer.102.5.1927</a>.
</div>
<div id="ref-Deaton1991" class="csl-entry" role="listitem">
Deaton, Angus. 1991. <span>“Saving and Liquidity Constraints.”</span> <em>Econometrica</em>, no. 5: 1221–48. <a href="https://doi.org/10.2307/2938366">https://doi.org/10.2307/2938366</a>.
</div>
<div id="ref-Garcia2020" class="csl-entry" role="listitem">
García, Jorge Luis, James J. Heckman, Duncan Ermini Leaf, and María José Prados. 2020. <span>“Quantifying the Life-Cycle Benefits of an Influential Early-Childhood Program.”</span> <em>The Journal of Political Economy</em>, no. 7: 2502–41. <a href="https://doi.org/10.1086/705718">https://doi.org/10.1086/705718</a>.
</div>
<div id="ref-Goldberger1989" class="csl-entry" role="listitem">
Goldberger, Arthur S. 1989. <span>“Economic and Mechanical Models of Intergenerational Transmi.”</span> <em>The American Economic Review</em>, no. 3: 504.
</div>
<div id="ref-Guvenen2009" class="csl-entry" role="listitem">
Guvenen, Fatih. 2009. <span>“An Empirical Investigation of Labor Income Processes.”</span> <em>Review of Economic Dynamics</em>, no. 1: 58–79. <a href="https://doi.org/10.1016/j.red.2008.06.004">https://doi.org/10.1016/j.red.2008.06.004</a>.
</div>
<div id="ref-Guvenen2021" class="csl-entry" role="listitem">
Guvenen, Fatih, Fatih Karahan, Serdar Ozkan, and Jae Song. 2021. <span>“WHAT DO DATA ON MILLIONS OF u.s. WORKERS REVEAL ABOUT LIFECYCLE EARNINGS DYNAMICS?”</span> <em>Econometrica</em>, no. 5: 2303–39. <a href="https://doi.org/10.3982/ecta14603">https://doi.org/10.3982/ecta14603</a>.
</div>
<div id="ref-Heathcote2010" class="csl-entry" role="listitem">
Heathcote, Jonathan, Fabrizio Perri, and Giovanni L. Violante. 2010. <span>“Unequal We Stand: An Empirical Analysis of Economic Inequality in the United States, 1967–2006.”</span> <em>Review of Economic Dynamics</em>, no. 1: 15–51. <a href="https://doi.org/10.1016/j.red.2009.10.010">https://doi.org/10.1016/j.red.2009.10.010</a>.
</div>
<div id="ref-Heathcote2023" class="csl-entry" role="listitem">
Heathcote, Jonathan, Fabrizio Perri, Giovanni L. Violante, and Lichen Zhang. 2023. <span>“More Unequal We Stand? Inequality Dynamics in the United States, 1967–2021.”</span> <em>Review of Economic Dynamics</em>, 235–66. <a href="https://doi.org/10.1016/j.red.2023.07.014">https://doi.org/10.1016/j.red.2023.07.014</a>.
</div>
<div id="ref-heckman2010" class="csl-entry" role="listitem">
Heckman, James J, Seong Hyeok Moon, Rodrigo Pinto, Peter A Savelyev, and Adam Yavitz. 2010. <span>“The Rate of Return to the HighScope Perry Preschool Program.”</span> <em>Journal of Public Economics</em> 94 (1-2): 114–28.
</div>
<div id="ref-Heckman2006" class="csl-entry" role="listitem">
Heckman, James J., Jora Stixrud, and Sergio Urzua. 2006. <span>“The Effects of Cognitive and Noncognitive Abilities on Labor Market Outcomes and Social Behavior.”</span> <em>Journal of Labor Economics</em>, no. 3: 411–82. <a href="https://doi.org/10.1086/504455">https://doi.org/10.1086/504455</a>.
</div>
<div id="ref-Huggett1993" class="csl-entry" role="listitem">
Huggett, Mark. 1993. <span>“The Risk-Free Rate in Heterogeneous-Agent Incomplete-Insurance Economies.”</span> <em>Journal of Economic Dynamics and Control</em> 17 (5): 953–69. https://doi.org/<a href="https://doi.org/10.1016/0165-1889(93)90024-M">https://doi.org/10.1016/0165-1889(93)90024-M</a>.
</div>
<div id="ref-Kline2016" class="csl-entry" role="listitem">
Kline, Patrick, and Christopher R. Walters. 2016. <span>“EVALUATING PUBLIC PROGRAMS WITH CLOSE SUBSTITUTES: THE CASE OF HEAD START.”</span> <em>The Quarterly Journal of Economics</em>, no. 4: 1795–1848. <a href="https://doi.org/10.1093/qje/qjw027">https://doi.org/10.1093/qje/qjw027</a>.
</div>
<div id="ref-krusell1998" class="csl-entry" role="listitem">
Krusell, Per, and Anthony A Smith Jr. 1998. <span>“Income and Wealth Heterogeneity in the Macroeconomy.”</span> <em>Journal of Political Economy</em> 106 (5): 867–96.
</div>
<div id="ref-Lee2019" class="csl-entry" role="listitem">
Lee, Sang Yoon (Tim), and Ananth Seshadri. 2019. <span>“On the Intergenerational Transmission of Economic Status.”</span> <em>The Journal of Political Economy</em>, no. 2: 855–921. <a href="https://doi.org/10.1086/700765">https://doi.org/10.1086/700765</a>.
</div>
<div id="ref-Ljungqvist2012" class="csl-entry" role="listitem">
Ljungqvist, Lars, and Thomas Sargent. 2012. <em>Recursive Macroeconomic Theory</em>. 3rd ed. Cambridge, Mass: MIT Press.
</div>
<div id="ref-Low2010" class="csl-entry" role="listitem">
Low, Hamish, Costas Meghir, and Luigi Pistaferri. 2010. <span>“Wage Risk and Employment Risk over the Life Cycle.”</span> <em>The American Economic Review</em>, no. 4: 1432–67. <a href="https://doi.org/10.1257/aer.100.4.1432">https://doi.org/10.1257/aer.100.4.1432</a>.
</div>
<div id="ref-mazumder2018" class="csl-entry" role="listitem">
Mazumder, Bhashkar. 2018. <span>“Intergenerational Mobility in the United States: What We Have Learned from the PSID.”</span> <em>The Annals of the American Academy of Political and Social Science</em> 680 (1): 213–34.
</div>
<div id="ref-Meghir2004" class="csl-entry" role="listitem">
Meghir, Costas, and Luigi Pistaferri. 2004. <span>“Income Variance Dynamics and Heterogeneity.”</span> <em>Econometrica</em>, no. 1: 1–32. <a href="https://doi.org/10.1111/j.1468-0262.2004.00476.x">https://doi.org/10.1111/j.1468-0262.2004.00476.x</a>.
</div>
<div id="ref-moffitt2011" class="csl-entry" role="listitem">
Moffitt, Robert A, and Peter Gottschalk. 2011. <span>“Trends in the Transitory Variance of Male Earnings.”</span> <em>THE JOURNAL OF HUMAN RESOURCES</em> 47: 1.
</div>
<div id="ref-Mulligan1999" class="csl-entry" role="listitem">
Mulligan, Casey B. 1999. <span>“Galton Versus the Human Capital Approach to Inheritance.”</span> <em>The Journal of Political Economy</em>, no. S6: S184–224. <a href="https://doi.org/10.1086/250108">https://doi.org/10.1086/250108</a>.
</div>
<div id="ref-Storesletten2004" class="csl-entry" role="listitem">
Storesletten, Kjetil, Christopher I. Telmer, and Amir Yaron. 2004. <span>“Consumption and Risk Sharing over the Life Cycle.”</span> <em>Journal of Monetary Economics</em>, no. 3: 609–33. <a href="https://doi.org/10.1016/j.jmoneco.2003.06.005">https://doi.org/10.1016/j.jmoneco.2003.06.005</a>.
</div>
<div id="ref-Walker2022" class="csl-entry" role="listitem">
Walker, Susan P., Susan M. Chang, Amika S. Wright, Rodrigo Pinto, James J. Heckman, and Sally M. Grantham‐McGregor. 2022. <span>“Cognitive, Psychosocial, and Behaviour Gains at Age 31 Years from the Jamaica Early Childhood Stimulation Trial.”</span> <em>Journal of Child Psychology and Psychiatry</em>, no. 6: 626–35. <a href="https://doi.org/10.1111/jcpp.13499">https://doi.org/10.1111/jcpp.13499</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>