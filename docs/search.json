[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "ECON4538 - Syllabus",
    "section": "",
    "text": "This is an advanced undergraduate course in Labor Economics. Please read below for the course outline and syllabus."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "index.html#class-times",
    "href": "index.html#class-times",
    "title": "ECON4538 - Syllabus",
    "section": "Class Times",
    "text": "Class Times\n\nLectures\nMondays and Wednesdays, 9:45am - 11am, Blegen Hall 240\n\n\nRecitations\nFridays, 10:10am - 11am, Blegen Hall 215"
  },
  {
    "objectID": "index.html#email-and-office-hours",
    "href": "index.html#email-and-office-hours",
    "title": "ECON4538 - Syllabus",
    "section": "Email and Office Hours",
    "text": "Email and Office Hours\nYou will find details on how to contact me and sign up for office hours on the course Canvas page."
  },
  {
    "objectID": "index.html#course-overview-and-objectives",
    "href": "index.html#course-overview-and-objectives",
    "title": "ECON4538 - Syllabus",
    "section": "Course Overview and Objectives",
    "text": "Course Overview and Objectives\nIn this class we will address questions at the forefront of modern economic policy. What factors drive economic inequality over the life-cycle? How are these evolving over time? What are the potential costs and benefits to collective provision of insurance and redistribution? What policies are effective in creating equal opportunity?\nTo answer these questions you will learn the basic tools of modern quantitative economics. We will be interested in understanding the models and tools that economists have developed to understand labor market inequality, as well as in using these models to analyze the welfare implications of various government interventions. Topics to be covered include: dynamic programming, solution methods of general equilibrium models, heterogeneous-agent macroeconomic models, models of human capital formation, and modern empirical evidence on the nature human capital."
  },
  {
    "objectID": "index.html#student-learning-outcomes",
    "href": "index.html#student-learning-outcomes",
    "title": "ECON4538 - Syllabus",
    "section": "Student Learning Outcomes",
    "text": "Student Learning Outcomes\nOn successfully completing this course, students should be familiar with some of the core concepts in modern quantitative economics. Students should be able to formalize an appropriate dynamic, stochastic, general equilibrium model to analyze a question of interest. Students should be able to solve and simulate such a model on a computer, for the purpose of interpreting data and conducting policy experiments."
  },
  {
    "objectID": "index.html#course-prerequisites",
    "href": "index.html#course-prerequisites",
    "title": "ECON4538 - Syllabus",
    "section": "Course Prerequisites",
    "text": "Course Prerequisites\nI will assume that you are comfortable with micro concepts at the level of Econ 3101, 3102, such as the utility maximization problem and its related topics. I will also assume that you are comfortable with basic econometrics such as multivariate regression techniques as well as statistics at the level of Stat 3011. With regards to your math background, I will take as granted that you know how to work with calculus (derivatives). Students should be willing to invest time in learning a computer programming language such as julia."
  },
  {
    "objectID": "index.html#textbook",
    "href": "index.html#textbook",
    "title": "ECON4538 - Syllabus",
    "section": "Textbook",
    "text": "Textbook\nWe will use some chapters and problem sets from Recursive Macroeconomic Theory (Ljungqvist and Sargent 2012, 3rd edition) available online via the University Library. We will also make use of Journal Articles. I have provided links to electronic versions of the textbook and journal articles are available on the “Library Course Page”.\n\nAdditional Readings\nYou may also find some of the following books useful.\n\nJohn Stachurski, Economic Dynamics: Theory and Computation, 2nd edition, (2022).\nChristopher Pissarides, Equilibrium Unemployment Theory, 2nd edition, (2000).\nJérôme Adda and Russell Cooper, Dynamic Economics: Quantitative Methods and Applications, (2003).\nMario Miranda and Paul Fackler, Applied Computational Economics and Finance, (2002).\nKenneth Judd, Numerical Methods in Economics, (1998)."
  },
  {
    "objectID": "index.html#course-software-and-resources",
    "href": "index.html#course-software-and-resources",
    "title": "ECON4538 - Syllabus",
    "section": "Course Software and Resources",
    "text": "Course Software and Resources\nWe will demonstrate and develop the computational tools you are learning using the julia programming language, which is well-suited for scientific computation and data analysis. LATIS provides a copy of julia on AppstoGo, but we recommend installing your own version, since it is completely free and open source. See the website for more details on the language and installation instructions.\nThroughout the course, you may find the QuantEcon julia course (by Tom Sargent, John Stachurski, and Jesse Perla) a useful additional resource."
  },
  {
    "objectID": "index.html#assessment",
    "href": "index.html#assessment",
    "title": "ECON4538 - Syllabus",
    "section": "Assessment",
    "text": "Assessment\nThe course will be graded based on 6 problem sets (each worth 7%, 42% total), a midterm exam (20%), and a final exam (38%).\n\nSubmission Guidelines\nIt is your responsibility to submit neat and legible solutions to the problem sets. Your TA may deduct marks for illegible submissions. Please follow these guidelines:\n\nAll homework assignments must be submitted as a Quarto or jupyter notebook rendered as an html or pdf, with code and output showing all required results. You will be introduced to these notebooks through recitation materials.\nFor questions requiring mathematical solutions, you may submit handwritten solutions if you prefer, but they must be submitted as a pdf using a scanner or scanning app on your phone."
  },
  {
    "objectID": "index.html#course-outline",
    "href": "index.html#course-outline",
    "title": "ECON4538 - Syllabus",
    "section": "Course Outline",
    "text": "Course Outline\n\nDynamic Programming and Applications\nAn important set of mathematical tools for solving dynamic models. Topics include:\n\nBellman’s principal of optimality and contraction mappings\nMathematical and computational exposition (using julia) of dynamic programming tools, applied to:\n\nModels of job search\nInfinite horizon and life-cycle models of savings\n\n\nReading: Ljungqvist and Sargent (2012) Chapters 3-6.\n\n\nSavings and incomplete markets\nReview of the main theoretical models describing savings and self-insurance of agents under uncertainity and incomplete markets.\n\nMain savings problems\nIncomplete markets models as Huggett (1993), Aiyagari (1994), Krusell and Smith (1998)\nConsumption inequality and income uncertainity.\n\nReading: Ljungqvist and Sargent (2012) Chapters 17-18. Deaton (1991), Blundell and Preston (1998), Huggett (1993), Aiyagari (1994), Krusell and Smith (1998)\n\n\nFacts about Inequality\nWe review and replicate facts about labor market inequality in the United States. Topics include:\n\nDocumenting income inequality (Moffitt and Gottschalk 2011; Heathcote, Perri, and Violante 2010; Heathcote et al. 2023; Guvenen et al. 2021)\nEstimation of income risk (Moffitt and Gottschalk 2011; Meghir and Pistaferri 2004; Low, Meghir, and Pistaferri 2010; Guvenen 2009)\nWelfare implications of income inequality (Storesletten, Telmer, and Yaron 2004)\n\nRedistribution vs Insurance\n\nThe Intergenerational Elasticity of Earnings (Corak 2013; Mazumder 2005, 2018)\nSkills and Inequality (James J. Heckman, Stixrud, and Urzua 2006; Cunha and Heckman 2008a; Cunha and Heckman 2009)\n\n\n\nTheories of Human Capital and Inequality\nWe introduce textbook theories of human capital formation and examine their empirical content. We develop computational tools to bring these theories to data. Topics include:\n\nThe Becker-Tomes model of intergenerational inequality via human capital investment (Becker and Tomes 1979, 1986)\n\nPolicy implications of the model (efficiency and redistribution)\n\nDebates on the empirical and conceptual merits of the Becker-Tomes model (Goldberger 1989; Mulligan 1999; Cunha et al. 2006; Cunha and Heckman 2007)\nQuantitative and theoretical extensions of the baseline model (Lee and Seshadri 2019; Caucutt and Lochner 2020)\n\n\n\nConnecting Human Capital Theory with Evidence\nWe survey some empirical work that connects the theory with data. Topics include:\n\nA review of econometric methods for causal inference\nEvidence of the effect of social programs on child skill formation and long-run outcomes (Dahl and Lochner 2012; Barr, Eggleston, and Smith 2022; Bastian and Michelmore 2018; Carneiro et al. 2021; Bailey et al. 2024)\nEvidence of the effect of early childhood education on skill formation and long-run outcomes (James J. Heckman et al. 2010; García et al. 2020; Kline and Walters 2016)\nEvidence of the effect of parenting and home interventions on skill formation and long-run outcomes (Attanasio, Meghir, and Nix 2020; Walker et al. 2022; Carneiro et al. 2024)\nEstimating the technology of skill formation. (Cunha and Heckman 2008b; Attanasio, Meghir, and Nix 2020)"
  },
  {
    "objectID": "index.html#grading-policies-and-procedures",
    "href": "index.html#grading-policies-and-procedures",
    "title": "ECON4538 - Syllabus",
    "section": "Grading, Policies, and Procedures",
    "text": "Grading, Policies, and Procedures\nPlease see the course Canvas page for the department grading scale and a statement of University policies and procedures."
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#overview",
    "href": "lectures/1-DocumentingInequality.html#overview",
    "title": "Documenting Inequality",
    "section": "Overview",
    "text": "Overview\n\n\nIn this section of the class we’ll look at what the data tells us about labor market inequality in the United States\nWill look at trends in inequality over time and over the life-cycle\nWill focus on labor market inequality\nSome review of basic statistics along the way\nLater in the section will dig deeper into policy implications"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#lets-start-with-some-data",
    "href": "lectures/1-DocumentingInequality.html#lets-start-with-some-data",
    "title": "Documenting Inequality",
    "section": "Let’s start with some data",
    "text": "Let’s start with some data\n\n\nData: the Current Population Survey (CPS)\nWill use the Annual Social and Economic Supplement (ASEC)\nYears: 1990 - 2024, Ages: 25-64\nCleaned and harmonized by IPUMS\nUsing annual wage income, hours, demographics\nDeflate using the Personal Consumption Expenditure Price Index\nConsult the data dictionary"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#section",
    "href": "lectures/1-DocumentingInequality.html#section",
    "title": "Documenting Inequality",
    "section": "",
    "text": "Heathcote, Jonathan, Fabrizio Perri, and Giovanni L. Violante. 2010. “Unequal We Stand: An Empirical Analysis of Economic Inequality in the United States, 1967–2006.” Review of Economic Dynamics, no. 1: 15–51. https://doi.org/10.1016/j.red.2009.10.010.\n\n\nHeathcote, Jonathan, Fabrizio Perri, Giovanni L. Violante, and Lichen Zhang. 2023. “More Unequal We Stand? Inequality Dynamics in the United States, 1967–2021.” Review of Economic Dynamics, 235–66. https://doi.org/10.1016/j.red.2023.07.014."
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#section-1",
    "href": "lectures/1-DocumentingInequality.html#section-1",
    "title": "Documenting Inequality",
    "section": "",
    "text": "using DataFrames, CSV, StatsPlots, DataFramesMeta, Statistics\npce = CSV.read(\"../data/PCE_index.csv\",DataFrame)\n\ndata = @chain CSV.read(\"../data/cps_00049.csv\",DataFrame) begin\n  @subset :INCWAGE .&gt;0 #&lt;- keep only if positive earnings\n  @subset :WKSWORK1 .&gt;0 #&lt;- keep only if positive work\n  @transform :HOURS = :UHRSWORKLY .* :WKSWORK1 #&lt;- calculate annual hours\n  innerjoin(pce,on=:YEAR)\n  @transform :INCWAGE = 100 * :INCWAGE ./ :PCE #&lt;- deflate earnings (2017 base)\n  @transform :WAGE = :INCWAGE ./ :HOURS #&lt;- annual earnings / annual hours\nend"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#section-2",
    "href": "lectures/1-DocumentingInequality.html#section-2",
    "title": "Documenting Inequality",
    "section": "",
    "text": "mean_wage = @chain data begin\n    groupby(:YEAR)\n    @combine :wage = mean(:WAGE)\n    @df _ plot(:YEAR,:wage)\nend"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#testing-the-plot",
    "href": "lectures/1-DocumentingInequality.html#testing-the-plot",
    "title": "Documenting Inequality",
    "section": "testing the plot",
    "text": "testing the plot"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#some-cleaning-steps",
    "href": "lectures/1-DocumentingInequality.html#some-cleaning-steps",
    "title": "Documenting Inequality",
    "section": "Some Cleaning Steps",
    "text": "Some Cleaning Steps\n\nusing DataFrames, CSV, StatsPlots, DataFramesMeta, StatsBase\npce = CSV.read(\"../data/PCE_index.csv\",DataFrame)\n\ndata = @chain CSV.read(\"../data/cps_00049.csv\",DataFrame) begin\n  @subset :INCWAGE .&gt;0 #&lt;- keep only if positive earnings\n  @subset :WKSWORK1 .&gt;10 #&lt;- keep only if worked more than 10 weeks\n  @transform :HOURS = :UHRSWORKLY .* :WKSWORK1 #&lt;- calculate annual hours\n  innerjoin(pce,on=:YEAR)\n  @transform :INCWAGE = 100 * :INCWAGE ./ :PCE #&lt;- deflate earnings (2017 base)\n  @transform :WAGE = :INCWAGE ./ :HOURS #&lt;- annual earnings / annual hours\nend"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#reviewing-population-weights",
    "href": "lectures/1-DocumentingInequality.html#reviewing-population-weights",
    "title": "Documenting Inequality",
    "section": "Reviewing Population Weights",
    "text": "Reviewing Population Weights\n\nUnweightedWeighted\n\n\n\nmean_wage = @chain data begin\n    groupby(:YEAR)\n    @combine :wage = mean(:WAGE)\n    @df _ plot(:YEAR,:wage)\nend\n\n\n\n\n\n\n\nmean_wage = @chain data begin\n    groupby(:YEAR)\n    @combine :wage = mean(:WAGE,weights(:ASECWT))\n    @df _ plot(:YEAR,:wage)\nend"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#reviewing-population-weights-exercise",
    "href": "lectures/1-DocumentingInequality.html#reviewing-population-weights-exercise",
    "title": "Documenting Inequality",
    "section": "Reviewing Population Weights (Exercise)",
    "text": "Reviewing Population Weights (Exercise)\n\nUnweightedWeightedEarningsHours\n\n\n\n@chain data begin\n    groupby(:YEAR)\n    @combine :wage = mean(:WAGE)\n    @df _ plot(:YEAR,:wage)\nend\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@chain data begin\n    groupby(:YEAR)\n    @combine :wage = mean(:WAGE,weights(:ASECWT))\n    @df _ plot(:YEAR,:wage)\nend\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@chain data begin\n    groupby(:YEAR)\n    @combine :earn = mean(:INCWAGE,weights(:ASECWT))\n    @df _ plot(:YEAR,:earn)\nend\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@chain data begin\n    groupby(:YEAR)\n    @combine :hours = mean(:HOURS,weights(:ASECWT))\n    @df _ plot(:YEAR,:hours)\nend"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#trends-in-inequality",
    "href": "lectures/1-DocumentingInequality.html#trends-in-inequality",
    "title": "Documenting Inequality",
    "section": "Trends in Inequality",
    "text": "Trends in Inequality\n\n\nHow should we document inequality?\nSome natural statistics to analyze the distribution of earnings and wages\n\nVariance (definition)\nPercentiles (definition)"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#variance-in-log-wages",
    "href": "lectures/1-DocumentingInequality.html#variance-in-log-wages",
    "title": "Documenting Inequality",
    "section": "Variance in log wages",
    "text": "Variance in log wages\n\n@chain data begin\n    groupby(:YEAR)\n    @combine :var_lw = var(log.(:WAGE),weights(:ASECWT))\n    @df _ plot(:YEAR,:var_lw,linewidth=3)\nend"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#percentiles-of-log-wages",
    "href": "lectures/1-DocumentingInequality.html#percentiles-of-log-wages",
    "title": "Documenting Inequality",
    "section": "Percentiles of log wages",
    "text": "Percentiles of log wages\n\n\nCode\npctiles = @chain data begin\n    groupby(:YEAR)\n    @combine begin \n    :p_90_10 = quantile(log.(:WAGE),weights(:ASECWT),0.9) - quantile(log.(:WAGE),weights(:ASECWT),0.1)\n    :p_75_25 = quantile(log.(:WAGE),weights(:ASECWT),0.75) - quantile(log.(:WAGE),weights(:ASECWT),0.25)\n    end\n    stack(Not(:YEAR))\n    @df _ plot(:YEAR,:value,group=:variable,linewidth=3)\nend"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#percentiles-of-log-wages-normalized",
    "href": "lectures/1-DocumentingInequality.html#percentiles-of-log-wages-normalized",
    "title": "Documenting Inequality",
    "section": "Percentiles of log wages (normalized)",
    "text": "Percentiles of log wages (normalized)\n\n\nCode\npctiles = @chain data begin\n    groupby(:YEAR)\n    @combine begin \n    :p_90_10 = quantile(log.(:WAGE),weights(:ASECWT),0.9) - quantile(log.(:WAGE),weights(:ASECWT),0.1)\n    :p_75_25 = quantile(log.(:WAGE),weights(:ASECWT),0.75) - quantile(log.(:WAGE),weights(:ASECWT),0.25)\n    end\n    stack(Not(:YEAR))\n    groupby(:variable)\n    @transform :value = :value .- :value[1]\n    @df _ plot(:YEAR,:value,group=:variable,linewidth=3)\nend\nplot!([1990,2024],[0.,0.],linestyle=:dash,color=\"grey\",label=false)"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#percentiles-of-log-wages-normalized-1",
    "href": "lectures/1-DocumentingInequality.html#percentiles-of-log-wages-normalized-1",
    "title": "Documenting Inequality",
    "section": "Percentiles of log wages (normalized)",
    "text": "Percentiles of log wages (normalized)\n\n\nCode\npctiles = @chain data begin\n    groupby(:YEAR)\n    @combine begin \n    :p_90 = quantile(log.(:WAGE),weights(:ASECWT),0.9)\n    :p_10 = quantile(log.(:WAGE),weights(:ASECWT),0.1)\n    :p_75 = quantile(log.(:WAGE),weights(:ASECWT),0.75)\n    :p_25 = quantile(log.(:WAGE),weights(:ASECWT),0.25)\n    end\n    stack(Not(:YEAR))\n    groupby(:variable)\n    @transform :value = :value .- :value[1]\n    @df _ plot(:YEAR,:value,group=:variable,linewidth=3)\nend\nplot!([1990,2024],[0.,0.],linestyle=:dash,color=\"grey\",label=false)"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#a-quick-look-at-sample-sizes",
    "href": "lectures/1-DocumentingInequality.html#a-quick-look-at-sample-sizes",
    "title": "Documenting Inequality",
    "section": "A Quick Look at Sample Sizes",
    "text": "A Quick Look at Sample Sizes\n\n@chain data begin\n  groupby(:YEAR)\n  @combine :N = length(:INCWAGE)\nend\n\n35×2 DataFrame10 rows omitted\n\n\n\nRow\nYEAR\nN\n\n\n\nInt64\nInt64\n\n\n\n\n1\n1990\n58717\n\n\n2\n1991\n58766\n\n\n3\n1992\n58119\n\n\n4\n1993\n57397\n\n\n5\n1994\n55548\n\n\n6\n1995\n56241\n\n\n7\n1996\n50030\n\n\n8\n1997\n51095\n\n\n9\n1998\n50855\n\n\n10\n1999\n51486\n\n\n11\n2000\n52598\n\n\n12\n2001\n85045\n\n\n13\n2002\n84521\n\n\n⋮\n⋮\n⋮\n\n\n24\n2013\n75820\n\n\n25\n2014\n74821\n\n\n26\n2015\n74531\n\n\n27\n2016\n69321\n\n\n28\n2017\n69995\n\n\n29\n2018\n67662\n\n\n30\n2019\n68224\n\n\n31\n2020\n60274\n\n\n32\n2021\n60457\n\n\n33\n2022\n56637\n\n\n34\n2023\n54834\n\n\n35\n2024\n54787"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#most-things-we-will-get-very-precisely",
    "href": "lectures/1-DocumentingInequality.html#most-things-we-will-get-very-precisely",
    "title": "Documenting Inequality",
    "section": "Most things we will get very precisely",
    "text": "Most things we will get very precisely\ne.g. gender wage gaps:\n\n\nCode\n@chain data begin\n  groupby([:YEAR,:SEX])\n  @combine begin \n    :m_wage = mean(log.(:WAGE),weights(:ASECWT))\n    :v_est = var(log.(:WAGE),weights(:ASECWT)) / length(:WAGE)\n    end\n  @transform :ci_width = 1.96 * sqrt.(:v_est)\n  @df _ scatter(:YEAR,:m_wage,yerror=:ci_width,group=:SEX)\nend"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#wage-gaps",
    "href": "lectures/1-DocumentingInequality.html#wage-gaps",
    "title": "Documenting Inequality",
    "section": "Wage Gaps",
    "text": "Wage Gaps\n\n\nWhile overall wage inequality is a main topic of interest, other metrics may matter for policy questions\nE.g. gaps by education, gender/sex, race\nWill look at these using the same data"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#gender-wage-gaps",
    "href": "lectures/1-DocumentingInequality.html#gender-wage-gaps",
    "title": "Documenting Inequality",
    "section": "Gender Wage Gaps",
    "text": "Gender Wage Gaps\n\n\nCode\n@chain data begin\n  groupby([:YEAR,:SEX])\n  @combine :m_wage = mean(log.(:WAGE),weights(:ASECWT))\n  unstack(:YEAR,:SEX,:m_wage,renamecols=x-&gt;Symbol(:wage_, x))\n  @transform :gender_gap = :wage_1 .- :wage_2\n  @df _ plot(:YEAR,:gender_gap,label = \"gender wage gap\",linewidth=3.)\nend"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#race-wage-gaps",
    "href": "lectures/1-DocumentingInequality.html#race-wage-gaps",
    "title": "Documenting Inequality",
    "section": "Race Wage Gaps",
    "text": "Race Wage Gaps\n\n\nCode\n@chain data begin\n  groupby([:YEAR,:RACE])\n  @combine :m_wage = mean(log.(:WAGE),weights(:ASECWT))\n  unstack(:YEAR,:RACE,:m_wage,renamecols=x-&gt;Symbol(:wage_, x))\n  @transform :black_white_gap = :wage_100 .- :wage_200\n  @df _ plot(:YEAR,:black_white_gap,label = \"race gap: black-white\",linewidth=3.)\nend\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHow much of this is sampling error?…"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#education-premia",
    "href": "lectures/1-DocumentingInequality.html#education-premia",
    "title": "Documenting Inequality",
    "section": "Education Premia",
    "text": "Education Premia\n\nDefine the “college premium” or “returns to college” as: \\[ \\mathbb{E}[\\log(\\text{wage})\\ |\\ \\geq \\text{degree}] - \\mathbb{E}[\\log(\\text{wage})\\ |\\ \\geq \\text{High School or Equiv}] \\]\nNote: there are other definitions Heathcote et al. (2023)"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#race-wage-gaps-1",
    "href": "lectures/1-DocumentingInequality.html#race-wage-gaps-1",
    "title": "Documenting Inequality",
    "section": "Race Wage Gaps",
    "text": "Race Wage Gaps\n\n\nCode\n@chain data begin\n  @subset :RACE .&lt;= 200\n  groupby([:YEAR,:RACE])\n  @combine begin \n    :m_wage = mean(log.(:WAGE),weights(:ASECWT))\n    :v_est = var(log.(:WAGE),weights(:ASECWT)) / length(:WAGE)\n  end\n  stack()\n  @transform :variable = string.(:variable,\"_\",:RACE)\n  unstack(:YEAR,:variable,:value)\n  @transform begin\n    :black_white_gap = :m_wage_100 .- :m_wage_200\n    :std_err = 1.96*sqrt.(:v_est_100 .+ :v_est_200)\n  end\n  @df _ scatter(:YEAR,:black_white_gap,yerror = :std_err,label = \"race gap: black-white\")\nend"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#yr-and-2-yr-college-premium",
    "href": "lectures/1-DocumentingInequality.html#yr-and-2-yr-college-premium",
    "title": "Documenting Inequality",
    "section": "4-Yr and 2-Yr College Premium",
    "text": "4-Yr and 2-Yr College Premium\n\n\nCode\n@chain data begin\n  @transform :educ = (:EDUC.&gt;=70) .+ (:EDUC.&gt;=90) .+ (:EDUC.&gt;=110)\n  groupby([:YEAR,:educ])\n  @combine begin \n    :m_wage = mean(log.(:WAGE),weights(:ASECWT))\n  end\n  unstack(:YEAR,:educ,:m_wage,renamecols=x-&gt;Symbol(:wage_, x))\n  @transform :two_yr = :wage_2 .- :wage_1 :four_yr = :wage_3 .- :wage_1\n  @df _ begin\n    plot(:YEAR,:two_yr,label=\"two-year prem\")\n    plot!(:YEAR,:four_yr,label=\"four-year prem\")\n  end\nend"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#trends-in-household-structure",
    "href": "lectures/1-DocumentingInequality.html#trends-in-household-structure",
    "title": "Documenting Inequality",
    "section": "Trends in Household Structure",
    "text": "Trends in Household Structure\n\n\nCode\ntest = @chain data begin\n  @subset :NCHILD.&gt;0\n  groupby(:YEAR)\n  @combine begin\n    :divorce = mean(:MARST.==4)\n    :never_married = mean(:MARST.==6)\n    :single = mean(:MARST.&gt;2)\n  end\n  stack(Not(:YEAR))\n  @df _ plot(:YEAR,:value,group=:variable)\nend"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#life-cycle-wage-dynamics",
    "href": "lectures/1-DocumentingInequality.html#life-cycle-wage-dynamics",
    "title": "Documenting Inequality",
    "section": "Life-cycle wage dynamics",
    "text": "Life-cycle wage dynamics\n\n\nSo far we have seen changes in wage distributions and wage gaps over time\nBut perhaps these statistics vary with age, too.\nWe have 34 years of data to study cohorts over time\nBeware the rank condition!"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#calculating-life-cycle-profiles",
    "href": "lectures/1-DocumentingInequality.html#calculating-life-cycle-profiles",
    "title": "Documenting Inequality",
    "section": "Calculating life-cycle profiles",
    "text": "Calculating life-cycle profiles\n\nv_w = @chain data begin\n  @transform :cohort = Int.(round.((:YEAR .- :AGE) ./ 10) .* 10)\n  groupby([:cohort,:AGE])\n  @combine :var_logw = var(log.(:WAGE),weights(:ASECWT))\nend\n\n176×3 DataFrame151 rows omitted\n\n\n\nRow\ncohort\nAGE\nvar_logw\n\n\n\nInt64\nInt64\nFloat64\n\n\n\n\n1\n1930\n56\n0.617128\n\n\n2\n1930\n57\n0.555906\n\n\n3\n1930\n58\n0.526267\n\n\n4\n1930\n59\n0.595774\n\n\n5\n1930\n60\n0.602591\n\n\n6\n1930\n61\n0.635663\n\n\n7\n1930\n62\n0.626394\n\n\n8\n1930\n63\n0.715607\n\n\n9\n1930\n64\n0.710725\n\n\n10\n1940\n45\n0.553349\n\n\n11\n1940\n46\n0.51878\n\n\n12\n1940\n47\n0.554579\n\n\n13\n1940\n48\n0.498058\n\n\n⋮\n⋮\n⋮\n⋮\n\n\n165\n1990\n32\n0.495593\n\n\n166\n1990\n33\n0.483012\n\n\n167\n1990\n34\n0.527871\n\n\n168\n1990\n35\n0.539062\n\n\n169\n1990\n36\n0.549061\n\n\n170\n1990\n37\n0.590262\n\n\n171\n1990\n38\n0.553557\n\n\n172\n2000\n25\n0.443045\n\n\n173\n2000\n26\n0.387629\n\n\n174\n2000\n27\n0.408362\n\n\n175\n2000\n28\n0.479915\n\n\n176\n2000\n29\n0.445542"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#variance-in-log-wages-increases-with-age",
    "href": "lectures/1-DocumentingInequality.html#variance-in-log-wages-increases-with-age",
    "title": "Documenting Inequality",
    "section": "Variance in log-wages increases with age",
    "text": "Variance in log-wages increases with age\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWhat do you think could be driving this pattern? Why does it matter? (Exercise at board on income processes)"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html",
    "href": "lectures/1-DocumentingInequality.html",
    "title": "Documenting Inequality",
    "section": "",
    "text": "In this section of the class we’ll look at what the data tells us about labor market inequality in the United States\nWill look at trends in inequality over time and over the life-cycle\nWill focus on labor market inequality\nSome review of basic statistics along the way\nLater in the section will dig deeper into policy implications"
  },
  {
    "objectID": "recitations.html",
    "href": "recitations.html",
    "title": "Recitation Materials",
    "section": "",
    "text": "Materials will be updated here as we continue through the course.\nThese recitations have been rendered using Quarto notebooks. The original source files for the notebooks can be downloaded from this site’s Github repo. You may want to study the source files to learn how to format your own notebooks for the homework assignments.\n\n\n\nTopic\nNotebook\n\n\n\n\nDocumenting Inequality\nWeek 1"
  },
  {
    "objectID": "lectures.html",
    "href": "lectures.html",
    "title": "Lecture Slides",
    "section": "",
    "text": "Materials here will be uploaded as we continue through the course.\n\n\n\nTopic\nSlides\n\n\n\n\nSyllabus\nSlides\n\n\nDocumenting Facts about Inequality\nSlides\n\n\nPolicy Implications: Redistribution vs Insurance\n\n\n\nEstimating Income Processes\n\n\n\nIntergenerational Mobility\n\n\n\nTheories of Human Capital\n\n\n\nEvidence"
  },
  {
    "objectID": "lectures/Syllabus.html#facts-about-inequality",
    "href": "lectures/Syllabus.html#facts-about-inequality",
    "title": "Syllabus",
    "section": "Facts About Inequality",
    "text": "Facts About Inequality\n\n\nSome basic facts about labor market inequality Heathcote et al. (2023)\nThinking through policy implications (redistribution vs insurance)\nEstimating income processes\n\nHow much income risk do workers face? How much is realized before labor market entry?\n\nIntergenerational income inequality\n\nHow much inequality is inherited from birth?\n\nSkills and inequality\n\nHow much inequality can be explained by measured skills and traits?\nLatent factor models"
  },
  {
    "objectID": "lectures/Syllabus.html#facts-about-inequality-2-3-weeks",
    "href": "lectures/Syllabus.html#facts-about-inequality-2-3-weeks",
    "title": "Syllabus",
    "section": "Facts About Inequality (2-3 weeks)",
    "text": "Facts About Inequality (2-3 weeks)\n\n\nSome basic facts about labor market inequality Heathcote et al. (2023)\nThinking through policy implications (redistribution vs insurance)\nEstimating income processes\n\nHow much income risk to workers face? How much is realized before labor market entry?\n\nIntergenerational income inequality\n\nHow much inequality is inherited from birth?\n\nSkills and inequality\n\nHow can much inequality can be explained by measured skills and traits?\nLatent factor models"
  },
  {
    "objectID": "lectures/Syllabus.html#the-human-capital-framework-2-weeks",
    "href": "lectures/Syllabus.html#the-human-capital-framework-2-weeks",
    "title": "Syllabus",
    "section": "The Human Capital Framework (2 weeks)",
    "text": "The Human Capital Framework (2 weeks)\n\n\nIntergenerational dynamics and efficiency (Becker and Tomes 1979, 1986)\n\nEmpirical content of model. Does it fit the data?\n\nQuantitative modeling exercises"
  },
  {
    "objectID": "lectures/Syllabus.html#connecting-the-framework-with-data-time-remaining",
    "href": "lectures/Syllabus.html#connecting-the-framework-with-data-time-remaining",
    "title": "Syllabus",
    "section": "Connecting the Framework with Data (time remaining)",
    "text": "Connecting the Framework with Data (time remaining)\n\n\nA review of econometric methods for causal inference\nEffect of social programs (Medicaid, Food Stamps, EITC)\nEarly childhood education\nParenting and home interventions\nEstimating the technology of skill formation"
  },
  {
    "objectID": "lectures/Syllabus.html#assessment",
    "href": "lectures/Syllabus.html#assessment",
    "title": "Syllabus",
    "section": "Assessment",
    "text": "Assessment\n\n\n3 problem sets (due dates on Canvas)\n\ntheory + coding\nwill provide examples in recitation to scaffold\nuse genAI as much as you want, but…\n\nFinal\n\nDecember 15, Blegen 240, 10:30am - 12:30pm\ntheory and coding questions (will provide examples)\nso make sure you use the problem sets to learn"
  },
  {
    "objectID": "lectures/Syllabus.html#the-human-capital-framework",
    "href": "lectures/Syllabus.html#the-human-capital-framework",
    "title": "Syllabus",
    "section": "The Human Capital Framework",
    "text": "The Human Capital Framework\n\n\nIntergenerational dynamics and efficiency (Becker and Tomes 1979, 1986)\n\nEmpirical content of model. Does it fit the data?\n\nQuantitative modeling exercises\n\nUse our dynamic programming tools"
  },
  {
    "objectID": "lectures/Syllabus.html#connecting-the-framework-with-data",
    "href": "lectures/Syllabus.html#connecting-the-framework-with-data",
    "title": "Syllabus",
    "section": "Connecting the Framework with Data",
    "text": "Connecting the Framework with Data\n\n\nA review of econometric methods for causal inference\nEffect of social programs (Medicaid, Food Stamps, EITC)\nEarly childhood education\nParenting and home interventions\nEstimating the technology of skill formation"
  },
  {
    "objectID": "lectures/Syllabus.html#lectures-and-learning",
    "href": "lectures/Syllabus.html#lectures-and-learning",
    "title": "Syllabus",
    "section": "Lectures and Learning",
    "text": "Lectures and Learning\n\n\nI will make slides available as soon as I have them\nThey are not a substitute for attendance\nWe will do theory and exercises “on the board”\nThe reading list is intended to supplement for those interested in going deeper\n\nUnless stated otherwise, you only need what we cover in class"
  },
  {
    "objectID": "lectures/Syllabus.html#online-class-dates",
    "href": "lectures/Syllabus.html#online-class-dates",
    "title": "Syllabus",
    "section": "Online Class Dates",
    "text": "Online Class Dates"
  },
  {
    "objectID": "lectures/Syllabus.html#citations",
    "href": "lectures/Syllabus.html#citations",
    "title": "Syllabus",
    "section": "Citations",
    "text": "Citations\n\n\n\n\nBecker, Gary S., and Nigel Tomes. 1979. “An Equilibrium Theory of the Distribution of Income and Intergenerational Mobility.” The Journal of Political Economy, no. 6: 1153–89. https://doi.org/10.1086/260831.\n\n\n———. 1986. “Human Capital and the Rise and Fall of Families.” Journal of Labor Economics, no. 3: S1–39. https://doi.org/10.1086/298118.\n\n\nHeathcote, Jonathan, Fabrizio Perri, Giovanni L. Violante, and Lichen Zhang. 2023. “More Unequal We Stand? Inequality Dynamics in the United States, 1967–2021.” Review of Economic Dynamics, 235–66. https://doi.org/10.1016/j.red.2023.07.014."
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#overview-heathcote2023",
    "href": "lectures/1-DocumentingInequality.html#overview-heathcote2023",
    "title": "Documenting Inequality",
    "section": "Overview: Heathcote et al. (2023)",
    "text": "Overview: Heathcote et al. (2023)\n\n\nHeathcote, Perri, Violante, and Zhang (2023) update their 2010 analysis (Heathcote, Perri, and Violante 2010) through 2021\nUse the household budget constraint as organizing framework \\[ c + s = \\sum_{i=1}^{N}w_{i}h_{i} + d + b^{p} + b^{g} - \\tau \\]\n\\(d\\): asset income, \\(b^{p}\\)/\\(b^{g}\\): private/gov transfers, \\(\\tau\\): taxes\nStart with individual wages → add hours → add household members → add government\nMultiple data sources: CPS, ACS, PSID, CES, SCF"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#key-finding-1-wage-inequality-trends",
    "href": "lectures/1-DocumentingInequality.html#key-finding-1-wage-inequality-trends",
    "title": "Documenting Inequality",
    "section": "Key Finding 1: Wage Inequality Trends",
    "text": "Key Finding 1: Wage Inequality Trends\n\n\n\n\n\n\n\nAt the top: Steady growth in inequality since mid-1980s\nAt the bottom: Remarkably stable since 2000\nCollege premium stopped growing after early 2000s\nGender wage gap continues to shrink"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#key-finding-2-the-role-of-labor-supply",
    "href": "lectures/1-DocumentingInequality.html#key-finding-2-the-role-of-labor-supply",
    "title": "Documenting Inequality",
    "section": "Key Finding 2: The Role of Labor Supply",
    "text": "Key Finding 2: The Role of Labor Supply\n\n\n\n\n\n\nEarnings, wages, and weeks worked in three slices of the earnings distribution (Heathcote et al. 2023)\n\n\n\n\n\nTop earners: Inequality driven entirely by wages (hours stable at ~50 weeks/year)\nBottom earners: Weeks worked fell 80% since 1967, wages fell 20%\nEmployment differences are key driver at the bottom"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#key-finding-3-the-declining-role-of-the-household",
    "href": "lectures/1-DocumentingInequality.html#key-finding-3-the-declining-role-of-the-household",
    "title": "Documenting Inequality",
    "section": "Key Finding 3: The Declining Role of the Household",
    "text": "Key Finding 3: The Declining Role of the Household\n\n\nDefine index of household income pooling: \\[ HP_{t} = \\left(var(y_{it}) - var(\\bar{y}_{it})\\right) / var(y_{it}) \\]\n\\(\\bar{y}_{i}\\): per-person income in household \\(i\\)\nInterpretation: the share of variance in income reduced by pooling at household level\nHousehold income pooling used to reduce inequality by 60% in 1967\nBy 2021, only reduces inequality by 35%\nWhy the decline? (decomposition exercise at board)\n\nNarrowing gender earnings gap → women less reliant on spousal income\nRising correlation of earnings within couples → less insurance\n\nSingle households increasingly disadvantaged"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#key-finding-4-the-growing-role-of-government",
    "href": "lectures/1-DocumentingInequality.html#key-finding-4-the-growing-role-of-government",
    "title": "Documenting Inequality",
    "section": "Key Finding 4: The Growing Role of Government",
    "text": "Key Finding 4: The Growing Role of Government\n\n\n\n\n\n\nInequality reduction mechanisms (Heathcote et al. 2023)\n\n\n\n\n\nGovernment redistribution (taxes + transfers) increasingly important\nIndex: compare pretax to post-tax and transfer income"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#key-finding-5-income-vs.-consumption-inequality",
    "href": "lectures/1-DocumentingInequality.html#key-finding-5-income-vs.-consumption-inequality",
    "title": "Documenting Inequality",
    "section": "Key Finding 5: Income vs. Consumption Inequality",
    "text": "Key Finding 5: Income vs. Consumption Inequality\n\nIncome and consumption inequality (Heathcote et al. 2023)\n\nMarket income: Large increase in inequality (especially at bottom during recessions)\nDisposable income: Much smaller increase (government smooths fluctuations)\nConsumption: Remarkably stable over entire period"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#key-finding-6-wealth-amplifies-inequality",
    "href": "lectures/1-DocumentingInequality.html#key-finding-6-wealth-amplifies-inequality",
    "title": "Documenting Inequality",
    "section": "Key Finding 6: Wealth Amplifies Inequality",
    "text": "Key Finding 6: Wealth Amplifies Inequality\n\n\nWealth inequality has grown significantly since 1990s\nTop 10% wealth share: ~65% in late 1980s → ~75% by 2019\nAsymmetric pattern:\n\nBelow median: wealth ratios similar to income ratios\nAbove median: wealth ratios much larger and growing faster\n\nTop households accumulate wealth faster than income grows"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#main-takeaways-from-heathcote2023",
    "href": "lectures/1-DocumentingInequality.html#main-takeaways-from-heathcote2023",
    "title": "Documenting Inequality",
    "section": "Main Takeaways from Heathcote et al. (2023)",
    "text": "Main Takeaways from Heathcote et al. (2023)\n\n\nInequality at top: Driven by wage differentials, continues to grow (but more slowly)\nInequality at bottom: Driven by employment, dominated by cyclical fluctuations\nThe household: Declining importance as inequality-reducing mechanism\nThe government: Increasing role in redistribution and stabilization\nConsumption: Remains remarkably stable despite income inequality trends"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#policy-implications",
    "href": "lectures/1-DocumentingInequality.html#policy-implications",
    "title": "Documenting Inequality",
    "section": "Policy Implications",
    "text": "Policy Implications\n\n\nLabor market policies matter differently across distribution:\n\nTop: Focus on wage-setting, skills, technology\nBottom: Focus on employment, labor force participation\n\nGovernment transfers are increasingly important for:\n\nReducing long-run inequality\nStabilizing incomes during recessions (especially at bottom)\n\nMarriage/family policies less effective as earnings correlate more within couples\nConsumption smoothing: Households appear to insure well despite income volatility\n\n\n\n\n\n\nHeathcote, Jonathan, Fabrizio Perri, and Giovanni L. Violante. 2010. “Unequal We Stand: An Empirical Analysis of Economic Inequality in the United States, 1967–2006.” Review of Economic Dynamics, no. 1: 15–51. https://doi.org/10.1016/j.red.2009.10.010.\n\n\nHeathcote, Jonathan, Fabrizio Perri, Giovanni L. Violante, and Lichen Zhang. 2023. “More Unequal We Stand? Inequality Dynamics in the United States, 1967–2021.” Review of Economic Dynamics, 235–66. https://doi.org/10.1016/j.red.2023.07.014."
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#whats-next",
    "href": "lectures/1-DocumentingInequality.html#whats-next",
    "title": "Documenting Inequality",
    "section": "What’s next?",
    "text": "What’s next?\n\nWe’ve got a good picture of:\n\nPatterns of inequality over time and over the life-cycle\nThe role that government transfers can play in off-setting this\n\nBut we don’t yet know:\n\nWhat are the welfare implications of these facts?\nHow much would people value programs that insure / redistribute?\nWhat are the origins of this inequality and should we counteract with policy?\n\nThese are the topics we will work on for the rest of this course"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#yr-and-2-yr-college-premia",
    "href": "lectures/1-DocumentingInequality.html#yr-and-2-yr-college-premia",
    "title": "Documenting Inequality",
    "section": "4-Yr and 2-Yr College Premia",
    "text": "4-Yr and 2-Yr College Premia\n\n\nCode\n@chain data begin\n  @transform :educ = (:EDUC.&gt;=70) .+ (:EDUC.&gt;=90) .+ (:EDUC.&gt;=110)\n  groupby([:YEAR,:educ])\n  @combine begin \n    :m_wage = mean(log.(:WAGE),weights(:ASECWT))\n  end\n  unstack(:YEAR,:educ,:m_wage,renamecols=x-&gt;Symbol(:wage_, x))\n  @transform :two_yr = :wage_2 .- :wage_1 :four_yr = :wage_3 .- :wage_1\n  @df _ begin\n    plot(:YEAR,:two_yr,label=\"two-year prem\",linewidth=3)\n    plot!(:YEAR,:four_yr,label=\"four-year prem\",linewidth=3)\n  end\nend"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#trends-in-single-parenthood",
    "href": "lectures/1-DocumentingInequality.html#trends-in-single-parenthood",
    "title": "Documenting Inequality",
    "section": "Trends in Single Parenthood",
    "text": "Trends in Single Parenthood\n\n\nCode\ntest = @chain data begin\n  @subset :NCHILD.&gt;0\n  groupby(:YEAR)\n  @combine begin\n    :divorce = mean(:MARST.==4)\n    :never_married = mean(:MARST.==6)\n    :single = mean(:MARST.&gt;2)\n  end\n  stack(Not(:YEAR))\n  @df _ plot(:YEAR,:value,group=:variable,linewidth=3)\nend"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#gender-wage-gap",
    "href": "lectures/1-DocumentingInequality.html#gender-wage-gap",
    "title": "Documenting Inequality",
    "section": "Gender Wage Gap",
    "text": "Gender Wage Gap\n\n\nCode\n@chain data begin\n  groupby([:YEAR,:SEX])\n  @combine :m_wage = mean(log.(:WAGE),weights(:ASECWT))\n  unstack(:YEAR,:SEX,:m_wage,renamecols=x-&gt;Symbol(:wage_, x))\n  @transform :gender_gap = :wage_1 .- :wage_2\n  @df _ plot(:YEAR,:gender_gap,label = \"gender wage gap\",linewidth=3.)\nend"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#race-wage-gap",
    "href": "lectures/1-DocumentingInequality.html#race-wage-gap",
    "title": "Documenting Inequality",
    "section": "Race Wage Gap",
    "text": "Race Wage Gap\n\n\nCode\n@chain data begin\n  groupby([:YEAR,:RACE])\n  @combine :m_wage = mean(log.(:WAGE),weights(:ASECWT))\n  unstack(:YEAR,:RACE,:m_wage,renamecols=x-&gt;Symbol(:wage_, x))\n  @transform :black_white_gap = :wage_100 .- :wage_200\n  @df _ plot(:YEAR,:black_white_gap,label = \"race gap: black-white\",linewidth=3.)\nend\n\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHow much of this is sampling error?…"
  },
  {
    "objectID": "lectures/1-DocumentingInequality.html#race-wage-gap-1",
    "href": "lectures/1-DocumentingInequality.html#race-wage-gap-1",
    "title": "Documenting Inequality",
    "section": "Race Wage Gap",
    "text": "Race Wage Gap\n\n\nCode\n@chain data begin\n  @subset :RACE .&lt;= 200\n  groupby([:YEAR,:RACE])\n  @combine begin \n    :m_wage = mean(log.(:WAGE),weights(:ASECWT))\n    :v_est = var(log.(:WAGE),weights(:ASECWT)) / length(:WAGE)\n  end\n  stack()\n  @transform :variable = string.(:variable,\"_\",:RACE)\n  unstack(:YEAR,:variable,:value)\n  @transform begin\n    :black_white_gap = :m_wage_100 .- :m_wage_200\n    :std_err = 1.96*sqrt.(:v_est_100 .+ :v_est_200)\n  end\n  @df _ scatter(:YEAR,:black_white_gap,yerror = :std_err,label = \"race gap: black-white\")\nend"
  },
  {
    "objectID": "recitations/recitation-1.html",
    "href": "recitations/recitation-1.html",
    "title": "Recitation 1",
    "section": "",
    "text": "In this recitation we’re going to work with extracts of the CPS-ASEC from the years (1970,1980,1990,2000,2010,2019). This is a slightly smaller dataset than the version I’m using in class, but will nonetheless capture the same trends.\nOur focus in this class will be earned income at the individual and household level, as well as government transfers at the individual and household level. The code below loads the data and creates some variables:\n\nEARN which will be the sum of wages and business income\nGOV which will be the sum of welfare, social security income, supplemental security income, the Earned Income Tax Credit (EITC) and the Child Tax Credit (CTC).\n\nSome other things to note:\n\nThese are limited measures of income and if you peruse the variables in IPUMS you will find many more categories.\nWage and business income is subject to top coding and we are not doing anything to solve that issue here, but you should be aware of it. See Heathcote et al. (2023) for one approach to this problem.\nMany of the variables we are analyzing are assigned dummy values (e.g. 9999999) if they are missing or not asked for an individual in the survey (“Not in Universe”). One should normally check to make sure these dummy values don’t appear in the final data.\nOur measure of transfers does not include in-kind transfers such as Medicaid and Food Stamps (which comprise a very large share of overall transfers).\n\nWith that being said, below is code to load the data and create these variables:\n\nusing DataFrames, CSV, StatsPlots, DataFramesMeta, StatsBase\npce = CSV.read(\"../data/PCE_index.csv\",DataFrame)\n\ndata = @chain CSV.read(\"../data/asec_1970_2019.csv\",DataFrame) begin\n  innerjoin(pce,on=:YEAR)\n  @transform begin \n    # fill in some missing values and deflat\n    :EITC = 100 * coalesce.(:EITCRED,0.) ./ :PCE\n    :CTC = 100 * coalesce.(:ACTCCRD,0.) ./ :PCE\n    :SSI = 100 * coalesce.(:INCSSI,0.) ./ :PCE\n    :WELF = 100 * :INCWELFR ./ :PCE\n    :SS = 100 * :INCSS ./ :PCE\n    # create the income measures\n    :EARN = 100 * (:INCWAGE .+ :INCBUS) ./ :PCE #&lt;- deflate earnings (2017 base)\n    end\n    @transform :GOV = :EITC .+ :CTC .+ :SSI .+ :WELF .+ :SS\nend\n\n499175×37 DataFrame499150 rows omitted\n\n\n\nRow\nYEAR\nSERIAL\nMONTH\nCPSID\nASECFLAG\nASECWTH\nPERNUM\nCPSIDP\nCPSIDV\nASECWT\nRELATE\nAGE\nSEX\nRACE\nMARST\nOCCLY\nOCC90LY\nWKSWORK1\nUHRSWORKLY\nINCTOT\nINCWAGE\nINCBUS\nINCSS\nINCWELFR\nINCSSI\nCTCCRD\nACTCCRD\nEITCRED\nobservation_date\nPCE\nEITC\nCTC\nSSI\nWELF\nSS\nEARN\nGOV\n\n\n\nInt64\nInt64\nInt64\nInt64?\nInt64?\nFloat64\nInt64\nInt64?\nInt64?\nFloat64\nInt64\nInt64\nInt64\nInt64\nInt64\nInt64\nInt64\nInt64?\nInt64?\nInt64\nInt64\nInt64\nInt64\nInt64\nInt64?\nInt64?\nInt64?\nInt64?\nString7\nFloat64\nFloat64\nFloat64\nFloat64\nFloat64\nFloat64\nFloat64\nFloat64\n\n\n\n\n1\n1970\n2\n3\nmissing\nmissing\n1454.52\n2\nmissing\nmissing\n1283.24\n301\n54\n2\n100\n6\n290\n22\nmissing\nmissing\n6720\n6640\n0\n0\n0\nmissing\nmissing\nmissing\nmissing\n1/1/70\n19.766\n0.0\n0.0\n0.0\n0.0\n0.0\n33593.0\n0.0\n\n\n2\n1970\n2\n3\nmissing\nmissing\n1454.52\n3\nmissing\nmissing\n1456.39\n1001\n55\n2\n100\n4\n999\n999\nmissing\nmissing\n63\n0\n0\n0\n0\nmissing\nmissing\nmissing\nmissing\n1/1/70\n19.766\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n3\n1970\n3\n3\nmissing\nmissing\n1456.39\n1\nmissing\nmissing\n1456.39\n101\n61\n1\n100\n1\n285\n33\nmissing\nmissing\n11150\n11000\n0\n0\n0\nmissing\nmissing\nmissing\nmissing\n1/1/70\n19.766\n0.0\n0.0\n0.0\n0.0\n0.0\n55651.1\n0.0\n\n\n4\n1970\n3\n3\nmissing\nmissing\n1456.39\n2\nmissing\nmissing\n1456.39\n201\n58\n2\n100\n1\n999\n999\nmissing\nmissing\n0\n0\n0\n0\n0\nmissing\nmissing\nmissing\nmissing\n1/1/70\n19.766\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n5\n1970\n4\n3\nmissing\nmissing\n1194.49\n1\nmissing\nmissing\n1194.49\n101\n61\n2\n100\n5\n370\n379\nmissing\nmissing\n5160\n5160\n0\n0\n0\nmissing\nmissing\nmissing\nmissing\n1/1/70\n19.766\n0.0\n0.0\n0.0\n0.0\n0.0\n26105.4\n0.0\n\n\n6\n1970\n4\n3\nmissing\nmissing\n1194.49\n2\nmissing\nmissing\n1401.31\n301\n25\n2\n100\n6\n182\n156\nmissing\nmissing\n6745\n6640\n0\n0\n0\nmissing\nmissing\nmissing\nmissing\n1/1/70\n19.766\n0.0\n0.0\n0.0\n0.0\n0.0\n33593.0\n0.0\n\n\n7\n1970\n4\n3\nmissing\nmissing\n1194.49\n4\nmissing\nmissing\n1437.93\n1001\n58\n2\n100\n5\n631\n785\nmissing\nmissing\n4131\n4056\n0\n0\n0\nmissing\nmissing\nmissing\nmissing\n1/1/70\n19.766\n0.0\n0.0\n0.0\n0.0\n0.0\n20520.1\n0.0\n\n\n8\n1970\n5\n3\nmissing\nmissing\n1469.39\n1\nmissing\nmissing\n1469.39\n101\n49\n1\n100\n1\n394\n274\nmissing\nmissing\n14075\n14000\n0\n0\n0\nmissing\nmissing\nmissing\nmissing\n1/1/70\n19.766\n0.0\n0.0\n0.0\n0.0\n0.0\n70828.7\n0.0\n\n\n9\n1970\n5\n3\nmissing\nmissing\n1469.39\n2\nmissing\nmissing\n1469.39\n201\n49\n2\n100\n1\n999\n999\nmissing\nmissing\n0\n0\n0\n0\n0\nmissing\nmissing\nmissing\nmissing\n1/1/70\n19.766\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n10\n1970\n6\n3\nmissing\nmissing\n1402.94\n1\nmissing\nmissing\n1402.94\n101\n49\n2\n100\n4\n150\n95\nmissing\nmissing\n6640\n6640\n0\n0\n0\nmissing\nmissing\nmissing\nmissing\n1/1/70\n19.766\n0.0\n0.0\n0.0\n0.0\n0.0\n33593.0\n0.0\n\n\n11\n1970\n7\n3\nmissing\nmissing\n1216.61\n1\nmissing\nmissing\n1216.61\n101\n39\n1\n100\n4\n394\n274\nmissing\nmissing\n5600\n5600\n0\n0\n0\nmissing\nmissing\nmissing\nmissing\n1/1/70\n19.766\n0.0\n0.0\n0.0\n0.0\n0.0\n28331.5\n0.0\n\n\n12\n1970\n8\n3\nmissing\nmissing\n1194.24\n1\nmissing\nmissing\n1194.24\n101\n49\n1\n100\n1\n495\n579\nmissing\nmissing\n300\n0\n300\n0\n0\nmissing\nmissing\nmissing\nmissing\n1/1/70\n19.766\n0.0\n0.0\n0.0\n0.0\n0.0\n1517.76\n0.0\n\n\n13\n1970\n8\n3\nmissing\nmissing\n1194.24\n2\nmissing\nmissing\n1194.24\n201\n35\n2\n100\n1\n693\n754\nmissing\nmissing\n3697\n3697\n0\n0\n0\nmissing\nmissing\nmissing\nmissing\n1/1/70\n19.766\n0.0\n0.0\n0.0\n0.0\n0.0\n18703.8\n0.0\n\n\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n\n\n499164\n2019\n94624\n3\n20191309462400\n1\n439.61\n2\n20191309462402\n201913094624021\n439.61\n202\n32\n2\n651\n1\n0\n999\n0\n999\n35\n0\n0\n0\n0\n0\n0\n0\n0\n1/1/19\n103.509\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n499165\n2019\n94626\n3\n20191309462600\n1\n409.88\n1\n20191309462601\n201913094626011\n409.88\n101\n44\n1\n813\n1\n4000\n436\n52\n50\n112670\n102000\n0\n0\n0\n0\n0\n0\n0\n1/1/19\n103.509\n0.0\n0.0\n0.0\n0.0\n0.0\n98542.2\n0.0\n\n\n499166\n2019\n94626\n3\n20191309462600\n1\n409.88\n2\n20191309462602\n201913094626021\n409.88\n202\n39\n2\n100\n1\n430\n22\n52\n50\n87510\n85000\n0\n0\n0\n0\n0\n0\n0\n1/1/19\n103.509\n0.0\n0.0\n0.0\n0.0\n0.0\n82118.5\n0.0\n\n\n499167\n2019\n94627\n3\n20191309462700\n1\n400.69\n1\n20191309462701\n201913094627011\n400.69\n101\n40\n1\n651\n1\n520\n29\n52\n40\n61003\n60000\n0\n0\n0\n0\n4000\n0\n0\n1/1/19\n103.509\n0.0\n0.0\n0.0\n0.0\n0.0\n57966.0\n0.0\n\n\n499168\n2019\n94627\n3\n20191309462700\n1\n400.69\n2\n20191309462702\n201913094627021\n400.69\n202\n42\n2\n651\n1\n2010\n174\n52\n40\n48309\n48000\n0\n0\n0\n0\n0\n0\n0\n1/1/19\n103.509\n0.0\n0.0\n0.0\n0.0\n0.0\n46372.8\n0.0\n\n\n499169\n2019\n94630\n3\n20191309463000\n1\n412.47\n2\n20191309463002\n201913094630021\n412.47\n1116\n59\n1\n651\n6\n0\n999\n0\n999\n0\n0\n0\n0\n0\n0\n0\n0\n0\n1/1/19\n103.509\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n499170\n2019\n94631\n3\n20191309463100\n1\n515.55\n1\n20191309463101\n201913094631011\n515.55\n101\n30\n2\n809\n6\n4010\n436\n52\n40\n11000\n11000\n0\n0\n0\n0\n0\n1275\n4950\n1/1/19\n103.509\n4782.19\n1231.78\n0.0\n0.0\n0.0\n10627.1\n6013.97\n\n\n499171\n2019\n94631\n3\n20191309463100\n1\n515.55\n6\n20191309463106\n201913094631061\n515.55\n1116\n33\n1\n809\n6\n4020\n436\n52\n40\n3000\n3000\n0\n0\n0\n0\n0\n0\n230\n1/1/19\n103.509\n222.203\n0.0\n0.0\n0.0\n0.0\n2898.3\n222.203\n\n\n499172\n2019\n94632\n3\n20191309463200\n1\n391.67\n3\n20191309463203\n201913094632031\n482.12\n301\n57\n1\n651\n1\n4230\n405\n52\n32\n28701\n28000\n0\n0\n0\n0\n3783\n217\n0\n1/1/19\n103.509\n0.0\n209.644\n0.0\n0.0\n0.0\n27050.8\n209.644\n\n\n499173\n2019\n94632\n3\n20191309463200\n1\n391.67\n4\n20191309463204\n201913094632041\n482.12\n1001\n45\n2\n651\n1\n4760\n275\n52\n40\n30001\n30000\n0\n0\n0\n0\n0\n0\n0\n1/1/19\n103.509\n0.0\n0.0\n0.0\n0.0\n0.0\n28983.0\n0.0\n\n\n499174\n2019\n94633\n3\n20191309463300\n1\n448.29\n1\n20191309463301\n201913094633011\n448.29\n101\n57\n2\n651\n2\n4720\n276\n52\n40\n15000\n15000\n0\n0\n0\n0\n0\n0\n21\n1/1/19\n103.509\n20.2881\n0.0\n0.0\n0.0\n0.0\n14491.5\n20.2881\n\n\n499175\n2019\n94633\n3\n20191309463300\n1\n448.29\n2\n20191309463302\n201913094633021\n596.53\n301\n27\n1\n651\n6\n2910\n189\n52\n35\n35000\n0\n35000\n0\n0\n0\n0\n0\n0\n1/1/19\n103.509\n0.0\n0.0\n0.0\n0.0\n0.0\n33813.5\n0.0\n\n\n\n\n\n\n\n\nEach row of thse data corresponds to an individual in a particular year. For some questions, we may instead be interested in per-person (or equivalized) measures of these income variables. The code below constructs those measures by summing over all individuals within a household, where CPSID is a unique identifier for each household in the survey.\n\n# - gov transfers\n# - Create a household-level dataset by summing CPSID (the household ID variable)\nhouse = @chain data begin\n    @subset .!ismissing.(:CPSID) #&lt;- drop all obs where this variable is missing (all of 1970)\n    @select :CPSID :CPSIDP :YEAR :EARN :GOV :SS :SSI :WELF :CTC :EITC\n    stack(Not([:CPSID,:CPSIDP,:YEAR]))\n    groupby([:YEAR,:CPSID,:variable])\n    @combine :value = mean(:value)\n    unstack([:YEAR,:CPSID],:variable,:value)\nend\n\n253564×9 DataFrame253539 rows omitted\n\n\n\nRow\nYEAR\nCPSID\nEARN\nGOV\nSS\nSSI\nWELF\nCTC\nEITC\n\n\n\nInt64\nInt64?\nFloat64?\nFloat64?\nFloat64?\nFloat64?\nFloat64?\nFloat64?\nFloat64?\n\n\n\n\n1\n1980\n19800103621400\n27101.3\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n2\n1980\n19800104923500\n27615.1\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n3\n1980\n19800104501700\n7192.77\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n4\n1980\n19800100876100\n12607.9\n5445.95\n0.0\n3051.79\n2394.16\n0.0\n0.0\n\n\n5\n1980\n19800100639500\n7706.54\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n6\n1980\n19800102151800\n0.0\n7457.36\n7457.36\n0.0\n0.0\n0.0\n0.0\n\n\n7\n1980\n19800101190700\n22870.4\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n8\n1980\n19800105012600\n23746.4\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n9\n1980\n19800101855600\n6023.94\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n10\n1980\n19800101468300\n28952.2\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n11\n1980\n19800102389200\n29541.7\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n12\n1980\n19800105459600\n38880.8\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n13\n1980\n19800105828600\n17031.4\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n\n\n253553\n2019\n20181309213100\n47338.9\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n253554\n2019\n20191309461900\n579.66\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n253555\n2019\n20181309213300\n89847.3\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n253556\n2019\n20191309462100\n29466.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n253557\n2019\n20181309213600\n47338.9\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n253558\n2019\n20191309462400\n17389.8\n1154.01\n0.0\n0.0\n0.0\n384.508\n769.498\n\n\n253559\n2019\n20191309462600\n90330.3\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n253560\n2019\n20191309462700\n52169.4\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n253561\n2019\n20191309463000\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n253562\n2019\n20191309463100\n6762.7\n3118.09\n0.0\n0.0\n0.0\n615.888\n2502.2\n\n\n253563\n2019\n20191309463200\n28016.9\n104.822\n0.0\n0.0\n0.0\n104.822\n0.0\n\n\n253564\n2019\n20191309463300\n24152.5\n10.144\n0.0\n0.0\n0.0\n0.0\n10.144\n\n\n\n\n\n\nSome notes:\n\nTry commenting out the code that follows the stack() command to see how the stack and unstack functions work here.\nNotice that we are calculating the mean only over individuals 25-64 in the sample (since we dropped everyone else before even pulling the data from IPUMS). Ideally one would want to include other household members as well for this equivalized measure.\n\n\n\n\nHow prominently do government transfers feature in the household budget constraint? And how has this evolved over time? Although our measures of income and transfers are not exhaustive, we can use them to get a partial answer to this question.\nThe code below calculates average transfers relative to average net income for the poorest 20% of households (as measured by our variable EARN) and produces a plot.\n\n@chain house begin\n    groupby(:YEAR)\n    @transform :q20 = quantile(:EARN,0.2) #&lt;- keep bottom 20% in each year\n    @subset :EARN .&lt; :q20\n    groupby(:YEAR)\n    @combine begin \n        :gov_share = mean(:GOV)  / (mean(:GOV) .+ mean(:EARN))\n    end\n    @df _ begin \n        plot(:YEAR,:gov_share,linewidth=3)\n        scatter!(:YEAR,:gov_share,legend=false)\n    end\nend\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote that these fluctuations can be caused by fluctuations in the numerator or the denominator. An exercise for you to complete is to verify that these fluctuations are driven by fluctuations in earned income. What event in 2010 could explain the large drop in earned income?\n\n\nOver this time, what sources of government transfers are most prevalent? The code below plots the five sources of transfers that we included in our measure as a fraction of the total in each year.\n\n@chain house begin\n    groupby(:YEAR)\n    @combine  begin \n        :eitc = mean(:EITC)  / mean(:GOV)\n        :ssi = mean(:SSI)  / mean(:GOV)\n        :welf = mean(:WELF)  / mean(:GOV)\n        :ctc = mean(:CTC)  / mean(:GOV)\n        :ss = mean(:SS)  / mean(:GOV)\n    end\n    stack(Not(:YEAR))\n    @df _ plot(:YEAR,:value,group = :variable,linewidth = 3.)\nend"
  },
  {
    "objectID": "assignments/assignment-1.html",
    "href": "assignments/assignment-1.html",
    "title": "Assignment 1",
    "section": "",
    "text": "Following Recitation 1, load the CPS-ASEC data and perform the same steps to deflate nominal $ values to 2017 dollars.\nIn Heathcote et al. (2023), the Household Pooling index \\(HP_{t}\\) is defined as \\[ HP_{t} = \\frac{var(y_{it}) - var(\\bar{y}_{it})}{var(y_{it})}\\] where \\(\\bar{y}_{it}\\) is per-person income for household \\(i\\) at time \\(t\\). Calculate this index when \\(y\\) is defined solely as labor market earnings (i.e. wage earnings) and when \\(y\\) is defined as labor market + business income. Plot both lines to compare them and comment on any differences.\nCalculate and plot an equivalent index for government transfers where now \\(y_{it}\\) is per-person household earnings (business + wage income) and \\(\\bar{y}_{it}\\) is per-person household income + government transfers. You can follow the variable for transfers we constructed in Recitation 1. Name at least one way that this measure differs from the measure used to construct the Government redistribution index in Figure 19 of Heathcote et al. (2023).\nRe-compute this index for government transfers for households below the 20th percentile of per-person income in each year. Comment on any differences with the previous figure.\nIn Recitation 1, we plotted the share of total transfers coming from each of five programs. Re-calculate this share for only the poorest 20% of households (as measured by per-person earnings) and comment on any differences you see compared to the original figure (extra credit)\n\n\n\n\n\nReferences\n\nHeathcote, Jonathan, Fabrizio Perri, Giovanni L. Violante, and Lichen Zhang. 2023. “More Unequal We Stand? Inequality Dynamics in the United States, 1967–2021.” Review of Economic Dynamics, 235–66. https://doi.org/10.1016/j.red.2023.07.014."
  },
  {
    "objectID": "recitations/recitation-1.html#constructing-a-measure-of-pooled-or-equivalized-income",
    "href": "recitations/recitation-1.html#constructing-a-measure-of-pooled-or-equivalized-income",
    "title": "Recitation 1",
    "section": "",
    "text": "Each row of thse data corresponds to an individual in a particular year. For some questions, we may instead be interested in per-person (or equivalized) measures of these income variables. The code below constructs those measures by summing over all individuals within a household, where CPSID is a unique identifier for each household in the survey.\n\n# - gov transfers\n# - Create a household-level dataset by summing CPSID (the household ID variable)\nhouse = @chain data begin\n    @subset .!ismissing.(:CPSID) #&lt;- drop all obs where this variable is missing (all of 1970)\n    @select :CPSID :CPSIDP :YEAR :EARN :GOV :SS :SSI :WELF :CTC :EITC\n    stack(Not([:CPSID,:CPSIDP,:YEAR]))\n    groupby([:YEAR,:CPSID,:variable])\n    @combine :value = mean(:value)\n    unstack([:YEAR,:CPSID],:variable,:value)\nend\n\n253564×9 DataFrame253539 rows omitted\n\n\n\nRow\nYEAR\nCPSID\nEARN\nGOV\nSS\nSSI\nWELF\nCTC\nEITC\n\n\n\nInt64\nInt64?\nFloat64?\nFloat64?\nFloat64?\nFloat64?\nFloat64?\nFloat64?\nFloat64?\n\n\n\n\n1\n1980\n19800103621400\n27101.3\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n2\n1980\n19800104923500\n27615.1\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n3\n1980\n19800104501700\n7192.77\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n4\n1980\n19800100876100\n12607.9\n5445.95\n0.0\n3051.79\n2394.16\n0.0\n0.0\n\n\n5\n1980\n19800100639500\n7706.54\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n6\n1980\n19800102151800\n0.0\n7457.36\n7457.36\n0.0\n0.0\n0.0\n0.0\n\n\n7\n1980\n19800101190700\n22870.4\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n8\n1980\n19800105012600\n23746.4\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n9\n1980\n19800101855600\n6023.94\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n10\n1980\n19800101468300\n28952.2\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n11\n1980\n19800102389200\n29541.7\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n12\n1980\n19800105459600\n38880.8\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n13\n1980\n19800105828600\n17031.4\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n⋮\n\n\n253553\n2019\n20181309213100\n47338.9\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n253554\n2019\n20191309461900\n579.66\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n253555\n2019\n20181309213300\n89847.3\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n253556\n2019\n20191309462100\n29466.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n253557\n2019\n20181309213600\n47338.9\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n253558\n2019\n20191309462400\n17389.8\n1154.01\n0.0\n0.0\n0.0\n384.508\n769.498\n\n\n253559\n2019\n20191309462600\n90330.3\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n253560\n2019\n20191309462700\n52169.4\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n253561\n2019\n20191309463000\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\n\n253562\n2019\n20191309463100\n6762.7\n3118.09\n0.0\n0.0\n0.0\n615.888\n2502.2\n\n\n253563\n2019\n20191309463200\n28016.9\n104.822\n0.0\n0.0\n0.0\n104.822\n0.0\n\n\n253564\n2019\n20191309463300\n24152.5\n10.144\n0.0\n0.0\n0.0\n0.0\n10.144\n\n\n\n\n\n\nSome notes:\n\nTry commenting out the code that follows the stack() command to see how the stack and unstack functions work here.\nNotice that we are calculating the mean only over individuals 25-64 in the sample (since we dropped everyone else before even pulling the data from IPUMS). Ideally one would want to include other household members as well for this equivalized measure."
  },
  {
    "objectID": "recitations/recitation-1.html#plotting-and-decomposing-transfers-over-time",
    "href": "recitations/recitation-1.html#plotting-and-decomposing-transfers-over-time",
    "title": "Recitation 1",
    "section": "",
    "text": "How prominently do government transfers feature in the household budget constraint? And how has this evolved over time? Although our measures of income and transfers are not exhaustive, we can use them to get a partial answer to this question.\nThe code below calculates average transfers relative to average net income for the poorest 20% of households (as measured by our variable EARN) and produces a plot.\n\n@chain house begin\n    groupby(:YEAR)\n    @transform :q20 = quantile(:EARN,0.2) #&lt;- keep bottom 20% in each year\n    @subset :EARN .&lt; :q20\n    groupby(:YEAR)\n    @combine begin \n        :gov_share = mean(:GOV)  / (mean(:GOV) .+ mean(:EARN))\n    end\n    @df _ begin \n        plot(:YEAR,:gov_share,linewidth=3)\n        scatter!(:YEAR,:gov_share,legend=false)\n    end\nend\n\n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n  \n    \n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote that these fluctuations can be caused by fluctuations in the numerator or the denominator. An exercise for you to complete is to verify that these fluctuations are driven by fluctuations in earned income. What event in 2010 could explain the large drop in earned income?\n\n\nOver this time, what sources of government transfers are most prevalent? The code below plots the five sources of transfers that we included in our measure as a fraction of the total in each year.\n\n@chain house begin\n    groupby(:YEAR)\n    @combine  begin \n        :eitc = mean(:EITC)  / mean(:GOV)\n        :ssi = mean(:SSI)  / mean(:GOV)\n        :welf = mean(:WELF)  / mean(:GOV)\n        :ctc = mean(:CTC)  / mean(:GOV)\n        :ss = mean(:SS)  / mean(:GOV)\n    end\n    stack(Not(:YEAR))\n    @df _ plot(:YEAR,:value,group = :variable,linewidth = 3.)\nend"
  },
  {
    "objectID": "assignments.html",
    "href": "assignments.html",
    "title": "Assignments",
    "section": "",
    "text": "All submissions should be made on Canvas in pdf or html format using a quarto or jupyter notebook that shows all code and output. Due dates are also provided on Canvas.\n\n\n\nAssignment\nNotebook\n\n\n\n\nAssignment 1\nlink"
  }
]